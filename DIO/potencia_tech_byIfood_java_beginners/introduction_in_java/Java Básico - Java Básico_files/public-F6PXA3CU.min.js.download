import{c as As}from"https://app.gitbook.com/public/app/chunks/chunk-PBIJ7NWH.min.js";import{a as ds,b as Dr}from"https://app.gitbook.com/public/app/chunks/chunk-YXD77BKP.min.js";import{b as _r,c as _t}from"https://app.gitbook.com/public/app/chunks/chunk-D3Z3KY5O.min.js";import{a as yc}from"https://app.gitbook.com/public/app/chunks/chunk-FIIM3NIA.min.js";import{a as Is,d as Ds}from"https://app.gitbook.com/public/app/chunks/chunk-VOELI74U.min.js";import{a as Fc}from"https://app.gitbook.com/public/app/chunks/chunk-SF6A7EXW.min.js";import{a as Tn}from"https://app.gitbook.com/public/app/chunks/chunk-BACKDGKJ.min.js";import{$b as lc,$c as In,$d as Jc,Ab as Ns,Ad as Uc,Bb as Vs,Bd as zc,Cb as Gt,E as vs,Ea as Ts,Eb as Sn,Ec as xn,Ed as Gc,Fb as pi,G as ys,Gb as Bs,Gc as $t,Gd as vi,Hb as Xs,Hc as _n,Ib as $s,Ic as Rc,Jc as Oc,Kb as L,Ma as Rs,Na as Os,Nc as xc,O as bs,Oa as fi,Ob as hi,Od as qc,P as Ss,Qc as _c,Rc as Ec,Rd as Xc,Sb as nc,Sc as kc,Tc as En,Ub as oc,Uc as kn,Vb as ic,Vc as Ic,Vd as $c,Wc as Ar,Wd as yi,Xb as ac,Yb as sc,Yc as Yt,Yd as Yc,Z as Ct,Zc as Lr,Zd as Kc,_b as cc,_c as Dc,_d as Zc,a as rm,ac as Ir,ad as Ac,ae as Ln,b as Ke,bc as uc,c as as,ca as ws,cc as fc,cd as Dn,ce as Qc,d as ss,db as xs,dc,dd as Lc,de as el,e as We,ea as Cs,eb as di,ec as pc,ed as Mc,f as Ze,fa as Pt,fc as mc,fd as An,g as gn,ga as ct,gc as hc,gd as M,ge as fe,h as cs,hd as Nc,ia as vn,ic as gc,id as Vc,jb as _s,jc as vc,kb as Es,l as ls,lb as ks,lc as Rn,m as us,n as li,o as fs,p as ps,pa as Ps,rd as Kt,s as ms,sc as Cc,sd as Hc,tc as Pc,td as ft,uc as On,ud as jc,wb as bn,wd as gi,xb as Ms,xd as Bc,z as gs,zd as Wc}from"https://app.gitbook.com/public/app/chunks/chunk-5OOCVTIC.min.js";import{b as hs}from"https://app.gitbook.com/public/app/chunks/chunk-62IBZPDE.min.js";import"https://app.gitbook.com/public/app/chunks/chunk-7QZXHUCL.min.js";import"https://app.gitbook.com/public/app/chunks/chunk-3UEPF2QW.min.js";import"https://app.gitbook.com/public/app/chunks/chunk-QN3W6WFJ.min.js";import{a as De}from"https://app.gitbook.com/public/app/chunks/chunk-7FQAFA33.min.js";import{d as Ue,e as bc}from"https://app.gitbook.com/public/app/chunks/chunk-IXBOJHT5.min.js";import"https://app.gitbook.com/public/app/chunks/chunk-KM3P5IHY.min.js";import{$ as Tc,B as q,C as tc,D as lt,E as Qe,F as ut,J as Cn,M as sm,R as rc,S as Pn,T as Sc,X as wc,_ as ce,b as qt,g as qs,h as xt,i as am,l as Ys,o as Ks,p as le,q as Zs,r as Js,s as it,t as kr,u as Qs,v as ec,z as wn}from"https://app.gitbook.com/public/app/chunks/chunk-NTXWE2Q3.min.js";import{$ as Je,A as mn,Aa as Xt,B as ai,Ba as re,Ca as U,H as os,I as ie,K as wt,L as si,O as Ye,P as is,Q as ci,S as hn,T as K,V as Ls,W as yn,_ as Er,da as Tt,ea as _,fa as h,ga as S,ha as Fs,ja as Hs,ma as Rt,na as js,oa as mi,p as Re,s as R,sa as Ot,t as ns,u as om,ua as Ws,va as Us,wa as zs,xa as Gs,y as P,ya as I}from"https://app.gitbook.com/public/app/chunks/chunk-SWR55HYI.min.js";import{a as nm}from"https://app.gitbook.com/public/app/chunks/chunk-GWGKBRLQ.min.js";import{a as zt,b as ui,c as im}from"https://app.gitbook.com/public/app/chunks/chunk-M5TDHSX7.min.js";import{c as Ie,e as T,f as pn,h as s}from"https://app.gitbook.com/public/app/chunks/chunk-ZQVMOYY3.min.js";var Ol=Ie(Ri=>{s();Object.defineProperty(Ri,"__esModule",{value:!0});var Nm=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},Vm="src/index.js",Fm=function(){function t(r,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,o.key,o)}}return function(r,e,n){return e&&t(r.prototype,e),n&&t(r,n),r}}(),Tl=R(),Hm=Bm(Tl),jm=(K(),pn(hn));function Bm(t){return t&&t.__esModule?t:{default:t}}function Wm(t,r){var e={};for(var n in t)r.indexOf(n)>=0||!Object.prototype.hasOwnProperty.call(t,n)||(e[n]=t[n]);return e}function Um(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Pl(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function zm(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var Rl=function(t){zm(r,t);function r(){var e,n,o,i;Um(this,r);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return i=(n=(o=Pl(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(c))),o),o.state={width:1,height:1},o.measure=function(u){var f=u.nativeEvent;return o.setState({width:f.layout.width,height:f.layout.height})},o.getAngle=function(){if(o.props.useAngle)return o.props.angle+"deg";var u=Math.atan2(o.state.width*(o.props.end.y-o.props.start.y),o.state.height*(o.props.end.x-o.props.start.x))+Math.PI/2;return u+"rad"},o.getColors=function(){return o.props.colors.map(function(u,f){var d=o.props.locations[f],p="";return d&&(p=" "+d*100+"%"),u+p}).join(",")},n),Pl(o,i)}return Fm(r,[{key:"render",value:function(){var n=this.props,o=n.start,i=n.end,a=n.colors,c=n.locations,l=n.useAngle,u=n.angleCenter,f=n.angle,d=n.style,p=n.children,g=Wm(n,["start","end","colors","locations","useAngle","angleCenter","angle","style","children"]);return Hm.default.createElement(jm.View,Nm({},g,{style:[d,{backgroundImage:"linear-gradient("+this.getAngle()+","+this.getColors()+")"}],onLayout:this.measure,__source:{fileName:Vm,lineNumber:72}}),p)}}]),r}(Tl.PureComponent);Rl.defaultProps={start:{x:.5,y:0},end:{x:.5,y:1},locations:[],colors:[],useAngle:!1,angle:0};Ri.default=Rl});var zl=Ie(Nr=>{"use strict";s();nm();var Zm=R(),Wl=60103;Nr.Fragment=60107;typeof Symbol=="function"&&Symbol.for&&(Mi=Symbol.for,Wl=Mi("react.element"),Nr.Fragment=Mi("react.fragment"));var Mi,Jm=Zm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qm=Object.prototype.hasOwnProperty,eh={key:!0,ref:!0,__self:!0,__source:!0};function Ul(t,r,e){var n,o={},i=null,a=null;e!==void 0&&(i=""+e),r.key!==void 0&&(i=""+r.key),r.ref!==void 0&&(a=r.ref);for(n in r)Qm.call(r,n)&&!eh.hasOwnProperty(n)&&(o[n]=r[n]);if(t&&t.defaultProps)for(n in r=t.defaultProps,r)o[n]===void 0&&(o[n]=r[n]);return{$$typeof:Wl,type:t,key:i,ref:a,props:o,_owner:Jm.current}}Nr.jsx=Ul;Nr.jsxs=Ul});var ql=Ie((gC,Gl)=>{"use strict";s();Gl.exports=zl()});var td=Ie((mx,go)=>{s();var Lf,Mf,Nf,Vf,Ff,Hf,jf,Bf,Wf,mo,ra,Uf,zf,Gf,ur,qf,Xf,$f,Yf,Kf,Zf,Jf,Qf,ed,ho;(function(t){var r=typeof window=="object"?window:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){t(e(r,e(n)))}):typeof go=="object"&&typeof go.exports=="object"?t(e(r,e(go.exports))):t(e(r));function e(n,o){return n!==r&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(i,a){return n[i]=o?o(i,a):a}}})(function(t){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])};Lf=function(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");r(n,o);function i(){this.constructor=n}n.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)},Mf=Object.assign||function(n){for(var o,i=1,a=arguments.length;i<a;i++){o=arguments[i];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(n[c]=o[c])}return n},Nf=function(n,o){var i={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&o.indexOf(a)<0&&(i[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(n);c<a.length;c++)o.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(n,a[c])&&(i[a[c]]=n[a[c]]);return i},Vf=function(n,o,i,a){var c=arguments.length,l=c<3?o:a===null?a=Object.getOwnPropertyDescriptor(o,i):a,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(n,o,i,a);else for(var f=n.length-1;f>=0;f--)(u=n[f])&&(l=(c<3?u(l):c>3?u(o,i,l):u(o,i))||l);return c>3&&l&&Object.defineProperty(o,i,l),l},Ff=function(n,o){return function(i,a){o(i,a,n)}},Hf=function(n,o){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,o)},jf=function(n,o,i,a){function c(l){return l instanceof i?l:new i(function(u){u(l)})}return new(i||(i=Promise))(function(l,u){function f(g){try{p(a.next(g))}catch(w){u(w)}}function d(g){try{p(a.throw(g))}catch(w){u(w)}}function p(g){g.done?l(g.value):c(g.value).then(f,d)}p((a=a.apply(n,o||[])).next())})},Bf=function(n,o){var i={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},a,c,l,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(p){return function(g){return d([p,g])}}function d(p){if(a)throw new TypeError("Generator is already executing.");for(;i;)try{if(a=1,c&&(l=p[0]&2?c.return:p[0]?c.throw||((l=c.return)&&l.call(c),0):c.next)&&!(l=l.call(c,p[1])).done)return l;switch(c=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,c=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(l=i.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){i.label=p[1];break}if(p[0]===6&&i.label<l[1]){i.label=l[1],l=p;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(p);break}l[2]&&i.ops.pop(),i.trys.pop();continue}p=o.call(n,i)}catch(g){p=[6,g],c=0}finally{a=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Wf=function(n,o){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(o,i)&&ho(o,n,i)},ho=Object.create?function(n,o,i,a){a===void 0&&(a=i);var c=Object.getOwnPropertyDescriptor(o,i);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(n,a,c)}:function(n,o,i,a){a===void 0&&(a=i),n[a]=o[i]},mo=function(n){var o=typeof Symbol=="function"&&Symbol.iterator,i=o&&n[o],a=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")},ra=function(n,o){var i=typeof Symbol=="function"&&n[Symbol.iterator];if(!i)return n;var a=i.call(n),c,l=[],u;try{for(;(o===void 0||o-- >0)&&!(c=a.next()).done;)l.push(c.value)}catch(f){u={error:f}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(u)throw u.error}}return l},Uf=function(){for(var n=[],o=0;o<arguments.length;o++)n=n.concat(ra(arguments[o]));return n},zf=function(){for(var n=0,o=0,i=arguments.length;o<i;o++)n+=arguments[o].length;for(var a=Array(n),c=0,o=0;o<i;o++)for(var l=arguments[o],u=0,f=l.length;u<f;u++,c++)a[c]=l[u];return a},Gf=function(n,o,i){if(i||arguments.length===2)for(var a=0,c=o.length,l;a<c;a++)(l||!(a in o))&&(l||(l=Array.prototype.slice.call(o,0,a)),l[a]=o[a]);return n.concat(l||Array.prototype.slice.call(o))},ur=function(n){return this instanceof ur?(this.v=n,this):new ur(n)},qf=function(n,o,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i.apply(n,o||[]),c,l=[];return c={},u("next"),u("throw"),u("return"),c[Symbol.asyncIterator]=function(){return this},c;function u(m){a[m]&&(c[m]=function(v){return new Promise(function(b,k){l.push([m,v,b,k])>1||f(m,v)})})}function f(m,v){try{d(a[m](v))}catch(b){w(l[0][3],b)}}function d(m){m.value instanceof ur?Promise.resolve(m.value.v).then(p,g):w(l[0][2],m)}function p(m){f("next",m)}function g(m){f("throw",m)}function w(m,v){m(v),l.shift(),l.length&&f(l[0][0],l[0][1])}},Xf=function(n){var o,i;return o={},a("next"),a("throw",function(c){throw c}),a("return"),o[Symbol.iterator]=function(){return this},o;function a(c,l){o[c]=n[c]?function(u){return(i=!i)?{value:ur(n[c](u)),done:c==="return"}:l?l(u):u}:l}},$f=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n[Symbol.asyncIterator],i;return o?o.call(n):(n=typeof mo=="function"?mo(n):n[Symbol.iterator](),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(l){i[l]=n[l]&&function(u){return new Promise(function(f,d){u=n[l](u),c(f,d,u.done,u.value)})}}function c(l,u,f,d){Promise.resolve(d).then(function(p){l({value:p,done:f})},u)}},Yf=function(n,o){return Object.defineProperty?Object.defineProperty(n,"raw",{value:o}):n.raw=o,n};var e=Object.create?function(n,o){Object.defineProperty(n,"default",{enumerable:!0,value:o})}:function(n,o){n.default=o};Kf=function(n){if(n&&n.__esModule)return n;var o={};if(n!=null)for(var i in n)i!=="default"&&Object.prototype.hasOwnProperty.call(n,i)&&ho(o,n,i);return e(o,n),o},Zf=function(n){return n&&n.__esModule?n:{default:n}},Jf=function(n,o,i,a){if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?n!==o||!a:!o.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?a:i==="a"?a.call(n):a?a.value:o.get(n)},Qf=function(n,o,i,a,c){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?n!==o||!c:!o.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?c.call(n,i):c?c.value=i:o.set(n,i),i},ed=function(n,o){if(o===null||typeof o!="object"&&typeof o!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?o===n:n.has(o)},t("__extends",Lf),t("__assign",Mf),t("__rest",Nf),t("__decorate",Vf),t("__param",Ff),t("__metadata",Hf),t("__awaiter",jf),t("__generator",Bf),t("__exportStar",Wf),t("__createBinding",ho),t("__values",mo),t("__read",ra),t("__spread",Uf),t("__spreadArrays",zf),t("__spreadArray",Gf),t("__await",ur),t("__asyncGenerator",qf),t("__asyncDelegator",Xf),t("__asyncValues",$f),t("__makeTemplateObject",Yf),t("__importStar",Kf),t("__importDefault",Zf),t("__classPrivateFieldGet",Jf),t("__classPrivateFieldSet",Qf),t("__classPrivateFieldIn",ed)})});var ap=Ie(Ha=>{"use strict";s();Object.defineProperty(Ha,"__esModule",{value:!0});var Gv={justifyContent:"center",alignItems:"center",overflow:"hidden",backgroundColor:"transparent"};Ha.default={container:Gv}});var sp=Ie(Vo=>{"use strict";s();Object.defineProperty(Vo,"__esModule",{value:!0});var qv=function(){function t(){this.cropWidth=100,this.cropHeight=100,this.imageWidth=100,this.imageHeight=100,this.panToMove=!0,this.pinchToZoom=!0,this.enableDoubleClickZoom=!0,this.clickDistance=10,this.maxOverflow=100,this.longPressTime=800,this.doubleClickInterval=175,this.style={},this.swipeDownThreshold=230,this.enableSwipeDown=!1,this.enableCenterFocus=!0,this.minScale=.6,this.maxScale=10,this.onClick=function(){},this.onDoubleClick=function(){},this.onLongPress=function(){},this.horizontalOuterRangeOffset=function(){},this.onDragLeft=function(){},this.responderRelease=function(){},this.onMove=function(){},this.layoutChange=function(){},this.onSwipeDown=function(){}}return t}();Vo.Props=qv;var Xv=function(){function t(){this.centerX=.5,this.centerY=.5}return t}();Vo.State=Xv});var lp=Ie(jt=>{"use strict";s();var $v=jt&&jt.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,e){r.__proto__=e}||function(r,e){for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n])};return function(r,e){t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Yv=jt&&jt.__assign||Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t};Object.defineProperty(jt,"__esModule",{value:!0});var Fo=R(),ne=(K(),pn(hn)),Kv=ap(),cp=sp(),Zv=function(t){$v(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.state=new cp.State,e.lastPositionX=null,e.positionX=0,e.animatedPositionX=new ne.Animated.Value(0),e.lastPositionY=null,e.positionY=0,e.animatedPositionY=new ne.Animated.Value(0),e.scale=1,e.animatedScale=new ne.Animated.Value(1),e.zoomLastDistance=null,e.zoomCurrentDistance=0,e.imagePanResponder=null,e.lastTouchStartTime=0,e.horizontalWholeOuterCounter=0,e.swipeDownOffset=0,e.horizontalWholeCounter=0,e.verticalWholeCounter=0,e.centerDiffX=0,e.centerDiffY=0,e.lastClickTime=0,e.doubleClickX=0,e.doubleClickY=0,e.isDoubleClick=!1,e.isLongPress=!1,e.isHorizontalWrap=!1,e.resetScale=function(){e.positionX=0,e.positionY=0,e.scale=1,e.animatedScale.setValue(1)},e.panResponderReleaseResolve=function(){if(e.props.enableSwipeDown&&e.props.swipeDownThreshold&&e.swipeDownOffset>e.props.swipeDownThreshold){e.props.onSwipeDown&&e.props.onSwipeDown();return}if(e.props.enableCenterFocus&&e.scale<1&&(e.scale=1,ne.Animated.timing(e.animatedScale,{toValue:e.scale,duration:100}).start()),e.props.imageWidth*e.scale<=e.props.cropWidth&&(e.positionX=0,ne.Animated.timing(e.animatedPositionX,{toValue:e.positionX,duration:100}).start()),e.props.imageHeight*e.scale<=e.props.cropHeight&&(e.positionY=0,ne.Animated.timing(e.animatedPositionY,{toValue:e.positionY,duration:100}).start()),e.props.imageHeight*e.scale>e.props.cropHeight){var n=(e.props.imageHeight*e.scale-e.props.cropHeight)/2/e.scale;e.positionY<-n?e.positionY=-n:e.positionY>n&&(e.positionY=n),ne.Animated.timing(e.animatedPositionY,{toValue:e.positionY,duration:100}).start()}if(e.props.imageWidth*e.scale>e.props.cropWidth){var o=(e.props.imageWidth*e.scale-e.props.cropWidth)/2/e.scale;e.positionX<-o?e.positionX=-o:e.positionX>o&&(e.positionX=o),ne.Animated.timing(e.animatedPositionX,{toValue:e.positionX,duration:100}).start()}e.props.enableCenterFocus&&e.scale===1&&(e.positionX=0,e.positionY=0,ne.Animated.timing(e.animatedPositionX,{toValue:e.positionX,duration:100}).start(),ne.Animated.timing(e.animatedPositionY,{toValue:e.positionY,duration:100}).start()),e.horizontalWholeOuterCounter=0,e.swipeDownOffset=0,e.imageDidMove("onPanResponderRelease")},e}return r.prototype.componentWillMount=function(){var e=this;this.imagePanResponder=ne.PanResponder.create({onStartShouldSetPanResponder:function(){return!0},onPanResponderTerminationRequest:function(){return!1},onPanResponderGrant:function(n){if(e.lastPositionX=null,e.lastPositionY=null,e.zoomLastDistance=null,e.horizontalWholeCounter=0,e.verticalWholeCounter=0,e.lastTouchStartTime=new Date().getTime(),e.isDoubleClick=!1,e.isLongPress=!1,e.isHorizontalWrap=!1,e.singleClickTimeout&&clearTimeout(e.singleClickTimeout),n.nativeEvent.changedTouches.length>1){var o=(n.nativeEvent.changedTouches[0].pageX+n.nativeEvent.changedTouches[1].pageX)/2;e.centerDiffX=o-e.props.cropWidth/2;var i=(n.nativeEvent.changedTouches[0].pageY+n.nativeEvent.changedTouches[1].pageY)/2;e.centerDiffY=i-e.props.cropHeight/2}if(e.longPressTimeout&&clearTimeout(e.longPressTimeout),e.longPressTimeout=setTimeout(function(){e.isLongPress=!0,e.props.onLongPress&&e.props.onLongPress()},e.props.longPressTime),n.nativeEvent.changedTouches.length<=1)if(new Date().getTime()-e.lastClickTime<(e.props.doubleClickInterval||0)){if(e.lastClickTime=0,e.props.onDoubleClick&&e.props.onDoubleClick(),clearTimeout(e.longPressTimeout),e.doubleClickX=n.nativeEvent.changedTouches[0].pageX,e.doubleClickY=n.nativeEvent.changedTouches[0].pageY,e.isDoubleClick=!0,e.props.enableDoubleClickZoom){if(e.scale>1||e.scale<1)e.scale=1,e.positionX=0,e.positionY=0;else{var a=e.scale;e.scale=2;var c=e.scale-a;e.positionX=(e.props.cropWidth/2-e.doubleClickX)*c/e.scale,e.positionY=(e.props.cropHeight/2-e.doubleClickY)*c/e.scale}e.imageDidMove("centerOn"),ne.Animated.parallel([ne.Animated.timing(e.animatedScale,{toValue:e.scale,duration:100}),ne.Animated.timing(e.animatedPositionX,{toValue:e.positionX,duration:100}),ne.Animated.timing(e.animatedPositionY,{toValue:e.positionY,duration:100})]).start()}}else e.lastClickTime=new Date().getTime()},onPanResponderMove:function(n,o){if(!e.isDoubleClick){if(n.nativeEvent.changedTouches.length<=1){var i=o.dx-(e.lastPositionX||0);e.lastPositionX===null&&(i=0);var a=o.dy-(e.lastPositionY||0);if(e.lastPositionY===null&&(a=0),e.lastPositionX=o.dx,e.lastPositionY=o.dy,e.horizontalWholeCounter+=i,e.verticalWholeCounter+=a,(Math.abs(e.horizontalWholeCounter)>5||Math.abs(e.verticalWholeCounter)>5)&&clearTimeout(e.longPressTimeout),e.props.panToMove){if(e.swipeDownOffset===0){if(Math.abs(i)>Math.abs(a)&&(e.isHorizontalWrap=!0),e.props.imageWidth*e.scale>e.props.cropWidth){e.horizontalWholeOuterCounter>0?i<0?e.horizontalWholeOuterCounter>Math.abs(i)?(e.horizontalWholeOuterCounter+=i,i=0):(i+=e.horizontalWholeOuterCounter,e.horizontalWholeOuterCounter=0,e.props.horizontalOuterRangeOffset&&e.props.horizontalOuterRangeOffset(0)):e.horizontalWholeOuterCounter+=i:e.horizontalWholeOuterCounter<0&&(i>0?Math.abs(e.horizontalWholeOuterCounter)>i?(e.horizontalWholeOuterCounter+=i,i=0):(i+=e.horizontalWholeOuterCounter,e.horizontalWholeOuterCounter=0,e.props.horizontalOuterRangeOffset&&e.props.horizontalOuterRangeOffset(0)):e.horizontalWholeOuterCounter+=i),e.positionX+=i/e.scale;var c=(e.props.imageWidth*e.scale-e.props.cropWidth)/2/e.scale;e.positionX<-c?(e.positionX=-c,e.horizontalWholeOuterCounter+=-1/1e10):e.positionX>c&&(e.positionX=c,e.horizontalWholeOuterCounter+=1/1e10),e.animatedPositionX.setValue(e.positionX)}else e.horizontalWholeOuterCounter+=i;e.horizontalWholeOuterCounter>(e.props.maxOverflow||0)?e.horizontalWholeOuterCounter=e.props.maxOverflow||0:e.horizontalWholeOuterCounter<-(e.props.maxOverflow||0)&&(e.horizontalWholeOuterCounter=-(e.props.maxOverflow||0)),e.horizontalWholeOuterCounter!==0&&e.props.horizontalOuterRangeOffset&&e.props.horizontalOuterRangeOffset(e.horizontalWholeOuterCounter)}e.props.imageHeight*e.scale>e.props.cropHeight?(e.positionY+=a/e.scale,e.animatedPositionY.setValue(e.positionY)):e.props.enableSwipeDown&&!e.isHorizontalWrap&&(e.swipeDownOffset+=a,e.swipeDownOffset>0&&(e.positionY+=a/e.scale,e.animatedPositionY.setValue(e.positionY),e.scale=e.scale-a/1e3,e.animatedScale.setValue(e.scale)))}}else if(e.longPressTimeout&&clearTimeout(e.longPressTimeout),e.props.pinchToZoom){var l=void 0,u=void 0;n.nativeEvent.changedTouches[0].locationX>n.nativeEvent.changedTouches[1].locationX?(l=n.nativeEvent.changedTouches[1].pageX,u=n.nativeEvent.changedTouches[0].pageX):(l=n.nativeEvent.changedTouches[0].pageX,u=n.nativeEvent.changedTouches[1].pageX);var f=void 0,d=void 0;n.nativeEvent.changedTouches[0].locationY>n.nativeEvent.changedTouches[1].locationY?(f=n.nativeEvent.changedTouches[1].pageY,d=n.nativeEvent.changedTouches[0].pageY):(f=n.nativeEvent.changedTouches[0].pageY,d=n.nativeEvent.changedTouches[1].pageY);var p=u-l,g=d-f,w=Math.sqrt(p*p+g*g);if(e.zoomCurrentDistance=Number(w.toFixed(1)),e.zoomLastDistance!==null){var m=(e.zoomCurrentDistance-e.zoomLastDistance)/200,v=e.scale+m;v<(e.props.minScale||0)&&(v=e.props.minScale||0),v>(e.props.maxScale||0)&&(v=e.props.maxScale||0);var b=e.scale;e.scale=v,e.animatedScale.setValue(e.scale);var k=e.scale-b;e.positionX-=e.centerDiffX*k/e.scale,e.positionY-=e.centerDiffY*k/e.scale,e.animatedPositionX.setValue(e.positionX),e.animatedPositionY.setValue(e.positionY)}e.zoomLastDistance=e.zoomCurrentDistance}e.imageDidMove("onPanResponderMove")}},onPanResponderRelease:function(n,o){if(e.longPressTimeout&&clearTimeout(e.longPressTimeout),!e.isDoubleClick&&!e.isLongPress){var i=Math.sqrt(o.dx*o.dx+o.dy*o.dy),a=n.nativeEvent,c=a.locationX,l=a.locationY,u=a.pageX,f=a.pageY;n.nativeEvent.changedTouches.length===1&&i<(e.props.clickDistance||0)?e.singleClickTimeout=setTimeout(function(){e.props.onClick&&e.props.onClick({locationX:c,locationY:l,pageX:u,pageY:f})},e.props.doubleClickInterval):(e.props.responderRelease&&e.props.responderRelease(o.vx,e.scale),e.panResponderReleaseResolve())}},onPanResponderTerminate:function(){}})},r.prototype.componentDidMount=function(){this.props.centerOn&&this.centerOn(this.props.centerOn)},r.prototype.componentWillReceiveProps=function(e){(e.centerOn&&!this.props.centerOn||e.centerOn&&this.props.centerOn&&this.didCenterOnChange(this.props.centerOn,e.centerOn))&&this.centerOn(e.centerOn)},r.prototype.imageDidMove=function(e){this.props.onMove&&this.props.onMove({type:e,positionX:this.positionX,positionY:this.positionY,scale:this.scale,zoomCurrentDistance:this.zoomCurrentDistance})},r.prototype.didCenterOnChange=function(e,n){return e.x!==n.x||e.y!==n.y||e.scale!==n.scale},r.prototype.centerOn=function(e){var n=this;this.positionX=e.x,this.positionY=e.y,this.scale=e.scale;var o=e.duration||300;ne.Animated.parallel([ne.Animated.timing(this.animatedScale,{toValue:this.scale,duration:o}),ne.Animated.timing(this.animatedPositionX,{toValue:this.positionX,duration:o}),ne.Animated.timing(this.animatedPositionY,{toValue:this.positionY,duration:o})]).start(function(){n.imageDidMove("centerOn")})},r.prototype.handleLayout=function(e){this.props.layoutChange&&this.props.layoutChange(e)},r.prototype.reset=function(){this.scale=1,this.animatedScale.setValue(this.scale),this.positionX=0,this.animatedPositionX.setValue(this.positionX),this.positionY=0,this.animatedPositionY.setValue(this.positionY)},r.prototype.render=function(){var e={transform:[{scale:this.animatedScale},{translateX:this.animatedPositionX},{translateY:this.animatedPositionY}]},n=ne.StyleSheet.flatten(this.props.style);return Fo.createElement(ne.View,{style:Yv({},Kv.default.container,n,{width:this.props.cropWidth,height:this.props.cropHeight}),...this.imagePanResponder.panHandlers},Fo.createElement(ne.Animated.View,{style:e,renderToHardwareTextureAndroid:!0},Fo.createElement(ne.View,{onLayout:this.handleLayout.bind(this),style:{width:this.props.imageWidth,height:this.props.imageHeight}},this.props.children)))},r.defaultProps=new cp.Props,r}(Fo.Component);jt.default=Zv});var up=Ie(ja=>{"use strict";s();Object.defineProperty(ja,"__esModule",{value:!0});var Jv=lp();ja.default=Jv.default});var Ba=Ie(Ho=>{"use strict";s();Object.defineProperty(Ho,"__esModule",{value:!0});Ho.default=function(t,r,e){return{modalContainer:{backgroundColor:e,justifyContent:"center",alignItems:"center",overflow:"hidden"},watchOrigin:{position:"absolute",width:t,bottom:20,justifyContent:"center",alignItems:"center"},watchOriginTouchable:{paddingLeft:10,paddingRight:10,paddingTop:5,paddingBottom:5,borderRadius:30,borderColor:"white",borderWidth:.5,backgroundColor:"rgba(0, 0, 0, 0.1)"},watchOriginText:{color:"white",backgroundColor:"transparent"},imageStyle:{},container:{backgroundColor:e},moveBox:{flexDirection:"row",alignItems:"center"},menuContainer:{position:"absolute",width:t,height:r,left:0,bottom:0,zIndex:12},menuShadow:{position:"absolute",width:t,height:r,backgroundColor:"black",left:0,bottom:0,opacity:.2,zIndex:10},menuContent:{position:"absolute",width:t,left:0,bottom:0,zIndex:11},operateContainer:{justifyContent:"center",alignItems:"center",backgroundColor:"white",height:40,borderBottomColor:"#ccc",borderBottomWidth:1},operateText:{color:"#333"},loadingTouchable:{width:t,height:r},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center"},arrowLeftContainer:{position:"absolute",top:0,bottom:0,left:0,justifyContent:"center",zIndex:13},arrowRightContainer:{position:"absolute",top:0,bottom:0,right:0,justifyContent:"center",zIndex:13}}};Ho.simpleStyle={count:{position:"absolute",left:0,right:0,top:38,zIndex:13,justifyContent:"center",alignItems:"center",backgroundColor:"transparent"},countText:{color:"white",fontSize:16,backgroundColor:"transparent",textShadowColor:"rgba(0, 0, 0, 0.3)",textShadowOffset:{width:0,height:.5},textShadowRadius:0}}});var za=Ie(jo=>{"use strict";s();Object.defineProperty(jo,"__esModule",{value:!0});var Wa=R(),Ua=(K(),pn(hn)),fp=Ba(),Qv=function(){function t(){this.show=!1,this.imageUrls=[],this.flipThreshold=80,this.maxOverflow=300,this.index=0,this.failImageSource=void 0,this.backgroundColor="black",this.footerContainerStyle={},this.menuContext={saveToLocal:"save to the album",cancel:"cancel"},this.saveToLocalByLongPress=!0,this.enableImageZoom=!0,this.style={},this.enableSwipeDown=!1,this.enablePreload=!1,this.pageAnimateTime=100,this.onLongPress=function(){},this.onClick=function(){},this.onDoubleClick=function(){},this.onSave=function(){},this.onMove=function(){},this.renderHeader=function(){return null},this.renderFooter=function(){return null},this.renderIndicator=function(r,e){return Wa.createElement(Ua.View,{style:fp.simpleStyle.count},Wa.createElement(Ua.Text,{style:fp.simpleStyle.countText},r+"/"+e))},this.renderImage=function(r){return Wa.createElement(Ua.Image,r)},this.renderArrowLeft=function(){return null},this.renderArrowRight=function(){return null},this.onShowModal=function(){},this.onCancel=function(){},this.onSwipeDown=function(){},this.loadingRender=function(){return null},this.onSaveToCamera=function(){},this.onChange=function(){}}return t}();jo.Props=Qv;var ey=function(){function t(){this.show=!1,this.currentShowIndex=0,this.prevIndexProp=0,this.imageLoaded=!1,this.imageSizes=[],this.isShowMenu=!1}return t}();jo.State=ey});var mp=Ie(st=>{"use strict";s();var ty=st&&st.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,e){r.__proto__=e}||function(r,e){for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n])};return function(r,e){t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Bt=st&&st.__assign||Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ry=st&&st.__rest||function(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)r.indexOf(n[o])<0&&(e[n[o]]=t[n[o]]);return e};Object.defineProperty(st,"__esModule",{value:!0});var $=R(),N=(K(),pn(hn)),dp=up(),pp=Ba(),Ga=za(),ny=function(t){ty(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.state=new Ga.State,e.fadeAnim=new N.Animated.Value(0),e.standardPositionX=0,e.positionXNumber=0,e.positionX=new N.Animated.Value(0),e.width=0,e.height=0,e.styles=pp.default(0,0,"transparent"),e.hasLayout=!1,e.loadedIndex=new Map,e.handleLongPressWithIndex=new Map,e.imageRefs=[],e.resetImageByIndex=function(n){e.imageRefs[n]&&e.imageRefs[n].reset()},e.preloadImage=function(n){n<e.state.imageSizes.length&&e.loadImage(n+1)},e.handleHorizontalOuterRangeOffset=function(n){n===void 0&&(n=0),e.positionXNumber=e.standardPositionX+n,e.positionX.setValue(e.positionXNumber);var o=N.I18nManager.isRTL?-n:n;o<0?(e.state.currentShowIndex||0<e.props.imageUrls.length-1)&&e.loadImage((e.state.currentShowIndex||0)+1):o>0&&(e.state.currentShowIndex||0>0)&&e.loadImage((e.state.currentShowIndex||0)-1)},e.handleResponderRelease=function(n){n===void 0&&(n=0);var o=N.I18nManager.isRTL?-n:n,i=N.I18nManager.isRTL?e.positionXNumber-e.standardPositionX<-(e.props.flipThreshold||0):e.positionXNumber-e.standardPositionX>(e.props.flipThreshold||0),a=N.I18nManager.isRTL?e.positionXNumber-e.standardPositionX>(e.props.flipThreshold||0):e.positionXNumber-e.standardPositionX<-(e.props.flipThreshold||0);if(o>.7){e.goBack.call(e),(e.state.currentShowIndex||0>0)&&e.loadImage((e.state.currentShowIndex||0)-1);return}else if(o<-.7){e.goNext.call(e),(e.state.currentShowIndex||0<e.props.imageUrls.length-1)&&e.loadImage((e.state.currentShowIndex||0)+1);return}if(i)e.goBack.call(e);else if(a){e.goNext.call(e);return}else{e.resetPosition.call(e);return}},e.goBack=function(){if(e.state.currentShowIndex===0){e.resetPosition.call(e);return}e.positionXNumber=N.I18nManager.isRTL?e.standardPositionX-e.width:e.standardPositionX+e.width,e.standardPositionX=e.positionXNumber,N.Animated.timing(e.positionX,{toValue:e.positionXNumber,duration:e.props.pageAnimateTime}).start();var n=(e.state.currentShowIndex||0)-1;e.setState({currentShowIndex:n},function(){e.props.onChange&&e.props.onChange(e.state.currentShowIndex)})},e.goNext=function(){if(e.state.currentShowIndex===e.props.imageUrls.length-1){e.resetPosition.call(e);return}e.positionXNumber=N.I18nManager.isRTL?e.standardPositionX+e.width:e.standardPositionX-e.width,e.standardPositionX=e.positionXNumber,N.Animated.timing(e.positionX,{toValue:e.positionXNumber,duration:e.props.pageAnimateTime}).start();var n=(e.state.currentShowIndex||0)+1;e.setState({currentShowIndex:n},function(){e.props.onChange&&e.props.onChange(e.state.currentShowIndex)})},e.handleLongPress=function(n){e.props.saveToLocalByLongPress&&e.setState({isShowMenu:!0}),e.props.onLongPress&&e.props.onLongPress(n)},e.handleClick=function(){e.props.onClick&&e.props.onClick(e.handleCancel,e.state.currentShowIndex)},e.handleDoubleClick=function(){e.props.onDoubleClick&&e.props.onDoubleClick(e.handleCancel)},e.handleCancel=function(){e.hasLayout=!1,e.props.onCancel&&e.props.onCancel()},e.handleLayout=function(n){n.nativeEvent.layout.width!==e.width&&(e.hasLayout=!0,e.width=n.nativeEvent.layout.width,e.height=n.nativeEvent.layout.height,e.styles=pp.default(e.width,e.height,e.props.backgroundColor||"transparent"),e.forceUpdate(),e.jumpToCurrentImage())},e.saveToLocal=function(){e.props.onSave?e.props.onSave(e.props.imageUrls[e.state.currentShowIndex||0].url):(N.CameraRoll.saveToCameraRoll(e.props.imageUrls[e.state.currentShowIndex||0].url),e.props.onSaveToCamera(e.state.currentShowIndex)),e.setState({isShowMenu:!1})},e.handleLeaveMenu=function(){e.setState({isShowMenu:!1})},e.handleSwipeDown=function(){e.props.onSwipeDown&&e.props.onSwipeDown(),e.handleCancel()},e}return r.prototype.componentDidMount=function(){this.init(this.props)},r.getDerivedStateFromProps=function(e,n){return e.index!==n.prevIndexProp?{currentShowIndex:e.index,prevIndexProp:e.index}:null},r.prototype.componentDidUpdate=function(e,n){e.index!==this.props.index&&(this.loadImage(this.props.index||0),this.jumpToCurrentImage(),N.Animated.timing(this.fadeAnim,{toValue:1,duration:200}).start())},r.prototype.init=function(e){var n=this;if(e.imageUrls.length===0)return this.fadeAnim.setValue(0),this.setState(new Ga.State);var o=[];e.imageUrls.forEach(function(i){o.push({width:i.width||0,height:i.height||0,status:"loading"})}),this.setState({currentShowIndex:e.index,prevIndexProp:e.index||0,imageSizes:o},function(){n.loadImage(e.index||0),n.jumpToCurrentImage(),N.Animated.timing(n.fadeAnim,{toValue:1,duration:200}).start()})},r.prototype.jumpToCurrentImage=function(){this.positionXNumber=this.width*(this.state.currentShowIndex||0)*(N.I18nManager.isRTL?1:-1),this.standardPositionX=this.positionXNumber,this.positionX.setValue(this.positionXNumber)},r.prototype.loadImage=function(e){var n=this;if(!!this.state.imageSizes[e]&&!this.loadedIndex.has(e)){this.loadedIndex.set(e,!0);var o=this.props.imageUrls[e],i=Bt({},this.state.imageSizes[e]),a=function(){if(!(n.state.imageSizes[e]&&n.state.imageSizes[e].status!=="loading")){var u=n.state.imageSizes.slice();u[e]=i,n.setState({imageSizes:u})}};if(this.state.imageSizes[e].status!=="success"){if(this.state.imageSizes[e].width>0&&this.state.imageSizes[e].height>0){i.status="success",a();return}var c=!1,l=!1;if((!o.url||o.url.startsWith("file:"))&&(l=!0),o.width&&o.height){this.props.enablePreload&&l===!1&&N.Image.prefetch(o.url),i.width=o.width,i.height=o.height,i.status="success",a();return}N.Image.getSize(o.url,function(u,f){i.width=u,i.height=f,i.status="success",a()},function(){try{var u=N.Image.resolveAssetSource(o.props.source);i.width=u.width,i.height=u.height,i.status="success",a()}catch(f){i.status="fail",a()}})}}},r.prototype.resetPosition=function(){this.positionXNumber=this.standardPositionX,N.Animated.timing(this.positionX,{toValue:this.standardPositionX,duration:150}).start()},r.prototype.getContent=function(){var e=this,n=this.width,o=this.height,i=this.props.imageUrls.map(function(a,c){if((e.state.currentShowIndex||0)>c+1||(e.state.currentShowIndex||0)<c-1)return $.createElement(N.View,{key:c,style:{width:n,height:o}});e.handleLongPressWithIndex.has(c)||e.handleLongPressWithIndex.set(c,e.handleLongPress.bind(e,a));var l=e.state.imageSizes[c]&&e.state.imageSizes[c].width,u=e.state.imageSizes[c]&&e.state.imageSizes[c].height,f=e.state.imageSizes[c];if(!f||!f.status)return $.createElement(N.View,{key:c,style:{width:n,height:o}});if(l>n){var d=n/l;l*=d,u*=d}if(u>o){var p=o/u;l*=p,u*=p}var g=function(w){var m=w.children,v=ry(w,["children"]);return $.createElement(dp.default,{cropWidth:e.width,cropHeight:e.height,maxOverflow:e.props.maxOverflow,horizontalOuterRangeOffset:e.handleHorizontalOuterRangeOffset,responderRelease:e.handleResponderRelease,onMove:e.props.onMove,onLongPress:e.handleLongPressWithIndex.get(c),onClick:e.handleClick,onDoubleClick:e.handleDoubleClick,enableSwipeDown:e.props.enableSwipeDown,swipeDownThreshold:e.props.swipeDownThreshold,onSwipeDown:e.handleSwipeDown,pinchToZoom:e.props.enableImageZoom,enableDoubleClickZoom:e.props.enableImageZoom,doubleClickInterval:e.props.doubleClickInterval,...v},m)};switch(f.status){case"loading":return $.createElement(g,{key:c,style:Bt({},e.styles.modalContainer,e.styles.loadingContainer),imageWidth:n,imageHeight:o},$.createElement(N.View,{style:e.styles.loadingContainer},e.props.loadingRender()));case"success":return a.props||(a.props={}),a.props.style||(a.props.style={}),a.props.style=Bt({},e.styles.imageStyle,a.props.style,{width:l,height:u}),typeof a.props.source=="number"||(a.props.source||(a.props.source={}),a.props.source=Bt({uri:a.url},a.props.source)),e.props.enablePreload&&e.preloadImage(e.state.currentShowIndex||0),$.createElement(dp.default,{key:c,ref:function(w){return e.imageRefs[c]=w},cropWidth:e.width,cropHeight:e.height,maxOverflow:e.props.maxOverflow,horizontalOuterRangeOffset:e.handleHorizontalOuterRangeOffset,responderRelease:e.handleResponderRelease,onMove:e.props.onMove,onLongPress:e.handleLongPressWithIndex.get(c),onClick:e.handleClick,onDoubleClick:e.handleDoubleClick,imageWidth:l,imageHeight:u,enableSwipeDown:e.props.enableSwipeDown,swipeDownThreshold:e.props.swipeDownThreshold,onSwipeDown:e.handleSwipeDown,panToMove:!e.state.isShowMenu,pinchToZoom:e.props.enableImageZoom&&!e.state.isShowMenu,enableDoubleClickZoom:e.props.enableImageZoom&&!e.state.isShowMenu,doubleClickInterval:e.props.doubleClickInterval,minScale:e.props.minScale,maxScale:e.props.maxScale},e.props.renderImage(a.props));case"fail":return $.createElement(g,{key:c,style:e.styles.modalContainer,imageWidth:e.props.failImageSource?e.props.failImageSource.width:n,imageHeight:e.props.failImageSource?e.props.failImageSource.height:o},e.props.failImageSource&&e.props.renderImage({source:{uri:e.props.failImageSource.url},style:{width:e.props.failImageSource.width,height:e.props.failImageSource.height}}))}});return $.createElement(N.Animated.View,{style:{zIndex:9}},$.createElement(N.Animated.View,{style:Bt({},this.styles.container,{opacity:this.fadeAnim})},this.props.renderHeader(this.state.currentShowIndex),$.createElement(N.View,{style:this.styles.arrowLeftContainer},$.createElement(N.TouchableWithoutFeedback,{onPress:this.goBack},$.createElement(N.View,null,this.props.renderArrowLeft()))),$.createElement(N.View,{style:this.styles.arrowRightContainer},$.createElement(N.TouchableWithoutFeedback,{onPress:this.goNext},$.createElement(N.View,null,this.props.renderArrowRight()))),$.createElement(N.Animated.View,{style:Bt({},this.styles.moveBox,{transform:[{translateX:this.positionX}],width:this.width*this.props.imageUrls.length})},i),this.props.renderIndicator((this.state.currentShowIndex||0)+1,this.props.imageUrls.length),this.props.imageUrls[this.state.currentShowIndex||0]&&this.props.imageUrls[this.state.currentShowIndex||0].originSizeKb&&this.props.imageUrls[this.state.currentShowIndex||0].originUrl&&$.createElement(N.View,{style:this.styles.watchOrigin},$.createElement(N.TouchableOpacity,{style:this.styles.watchOriginTouchable},$.createElement(N.Text,{style:this.styles.watchOriginText},"\u67E5\u770B\u539F\u56FE(2M)"))),$.createElement(N.View,{style:[{bottom:0,position:"absolute",zIndex:9},this.props.footerContainerStyle]},this.props.renderFooter(this.state.currentShowIndex||0))))},r.prototype.getMenu=function(){return this.state.isShowMenu?this.props.menus?$.createElement(N.View,{style:this.styles.menuContainer},this.props.menus({cancel:this.handleLeaveMenu,saveToLocal:this.saveToLocal})):$.createElement(N.View,{style:this.styles.menuContainer},$.createElement(N.View,{style:this.styles.menuShadow}),$.createElement(N.View,{style:this.styles.menuContent},$.createElement(N.TouchableHighlight,{underlayColor:"#F2F2F2",onPress:this.saveToLocal,style:this.styles.operateContainer},$.createElement(N.Text,{style:this.styles.operateText},this.props.menuContext.saveToLocal)),$.createElement(N.TouchableHighlight,{underlayColor:"#F2F2F2",onPress:this.handleLeaveMenu,style:this.styles.operateContainer},$.createElement(N.Text,{style:this.styles.operateText},this.props.menuContext.cancel)))):null},r.prototype.render=function(){var e=null;return e=$.createElement(N.View,null,this.getContent(),this.getMenu()),$.createElement(N.View,{onLayout:this.handleLayout,style:Bt({flex:1,overflow:"hidden"},this.props.style)},e)},r.defaultProps=new Ga.Props,r}($.Component);st.default=ny});var gp=Ie(rn=>{"use strict";s();Object.defineProperty(rn,"__esModule",{value:!0});var hp=mp();rn.ImageViewer=hp.default;var oy=za();rn.ImageViewerPropsDefine=oy.Props;rn.default=hp.default});s();s();(function(){"use strict";var t="ListFormat"in Intl;function r(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function e(y,x){for(var C=0;C<x.length;C++){var O=x[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(y,O.key,O)}}function n(y,x,C){return x&&e(y.prototype,x),C&&e(y,C),y}var o=["conjunction","disjunction","unit"],i=["long","short","narrow"],a=["lookup","best fit"];function c(y){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(C){return typeof C}:c=function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},c(y)}function l(y){return typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?l=function(C){return c(C)}:l=function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":c(C)},l(y)}function u(y){if(y==null)throw new TypeError("Argument ".concat(y," cannot be converted to an Object"));return typeof y=="boolean"?new Boolean(y):typeof y=="number"?new Number(y):typeof y=="string"?new String(y):l(y)==="symbol"?new Object(y):y}var f;function d(y){f=y}function p(){return f}function g(){if(f==null)throw new ReferenceError("Could not determine locale: No default locale has been configured");return f}var w=new WeakMap,m={relevantExtensionKeys:[],localeData:{},availableLocales:[]};function v(y,x,C){var O=w.get(y);O==null&&(O=Object.create(null),w.set(y,O)),O[x]=C}function b(y,x){var C=w.get(y);if(C==null)throw new ReferenceError("No internal slots has been allocated for the given instance of ListFormat");return C[x]}function k(y,x){var C=w.get(y);return C!=null&&x in C}var F=/-u(?:-[0-9a-z]{2,8})+/gi;function E(y){return y.replace(F,"")}function A(y,x){for(var C=x;;){if(y.includes(C))return C;var O=C.lastIndexOf("-");if(O===-1)return;O>=2&&C.charAt(O-2)==="-"&&(O-=2),C=C.slice(0,O)}}function we(y,x){var C=[],O=!0,B=!1,G=void 0;try{for(var se=x[Symbol.iterator](),Y;!(O=(Y=se.next()).done);O=!0){var oe=Y.value,te=E(oe),me=A(y,te);me!==void 0&&C.push(oe)}}catch(_e){B=!0,G=_e}finally{try{!O&&se.return!=null&&se.return()}finally{if(B)throw G}}return C}function D(y,x){return we(y,x)}function j(y){return typeof y=="string"||l(y)==="symbol"}function ee(y,x){if(l(y)!=="object")throw new TypeError("Given argument ".concat(y," must be of type Object"));if(!j(x))throw new TypeError("Given argument ".concat(x," must be a PropertyKey"));return y[x]}function Ce(y){return Boolean(y)}function ge(y){return y+""}function pe(y,x,C,O,B){var G=ee(y,x);if(G!==void 0){if(C!=="boolean"&&C!=="string")throw new TypeError("Expected type ".concat(C," to be 'boolean' or 'string"));if(C==="boolean"&&(G=Ce(G)),C==="string"&&(G=ge(G)),O!==void 0&&!O.includes(G))throw new RangeError("Value ".concat(G," out of range for options property ").concat(x));return G}else return B}function bt(y,x,C){var O;return C!==void 0?(C=u(C),O=pe(C,"localeMatcher","string",a,"best fit")):O="best fit",O==="best fit"?D(y,x):we(y,x)}function je(y){var x=y.availableLocales,C=y.requestedLocales,O=Object.create(null),B=!0,G=!1,se=void 0;try{for(var Y=C[Symbol.iterator](),oe;!(B=(oe=Y.next()).done);B=!0){var te=oe.value,me=E(te),_e=A(x,me);if(_e!==void 0){if(O.locale=_e,te!==me){var Be=te.match(F);O.extension=Be==null?"":Be[0]}return O}}}catch(dn){G=!0,se=dn}finally{try{!B&&Y.return!=null&&Y.return()}finally{if(G)throw se}}var $e=g();return O.locale=$e,O}function Ut(y){return je(y)}function Zo(y,x,C,O,B){var G=C.localeMatcher,se=G==="lookup"?je({availableLocales:y,requestedLocales:x}):Ut({availableLocales:y,requestedLocales:x}),Y=se.locale,oe=Object.create(null);oe.dataLocale=Y;var te="-u";if(te.length>2){var me=String.prototype.indexOf.call(Y,"-x-");if(me===-1)Y="".concat(Y).concat(te);else{var _e=Y.slice(0,me),Be=Y.slice(me);Y="".concat(_e).concat(te).concat(Be)}Y=Intl.getCanonicalLocales(Y)[0]}return oe.locale=Y,oe}function Jo(y){if(Array.isArray(y)){for(var x=0,C=new Array(y.length);x<y.length;x++)C[x]=y[x];return C}}function Qo(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}function ei(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function ti(y){return Jo(y)||Qo(y)||ei()}function un(y){if(y===void 0)return[];var x=ti(y);if(x.some(function(C){return typeof C!="string"}))throw new TypeError("All List items must be strings");return x}function ri(y){return Object.prototype.toString.call(y)==="[object Object]"}function ni(y){return Array.isArray(y)||ri(y)}function fn(y,x){for(var C=[],O=String.prototype.indexOf.call(y,"{",0),B=0,G=y.length;y[O]!==void 0;){var se=String.prototype.indexOf.call(y,"}",O);if(se<=O)throw new TypeError("Expected endIndex: ".concat(se," to be greater than beginIndex: ").concat(O));if(O>B){var Y=y.slice(B,O);C.push({type:"literal",value:Y})}var oe=y.slice(O+1,se);if(x[Number(oe)]==null)throw new TypeError("Expected placeables to have a part for PropertyKey: ".concat(oe));var te=x[Number(oe)];if(ni(te.value)){var me=!0,_e=!1,Be=void 0;try{for(var $e=te.value[Symbol.iterator](),dn;!(me=(dn=$e.next()).done);me=!0){var Qp=dn.value;C.push(Qp)}}catch(tm){_e=!0,Be=tm}finally{try{!me&&$e.return!=null&&$e.return()}finally{if(_e)throw Be}}}else C.push(te);B=se+1,O=String.prototype.indexOf.call(y,"{",B)}if(B<G){var em=y.slice(B,G);C.push({type:"literal",value:em})}return C}function xr(y,x){var C,O=x.length;if(O===0)return[];if(O===2){C=b(y,"templatePair");var B={type:"element",value:x[0]},G={type:"element",value:x[1]},se={0:B,1:G};return fn(C,se)}for(var Y={type:"element",value:x[O-1]},oe=[Y],te=O-2;te>=0;){te===0?C=b(y,"templateStart"):te<O-2?C=b(y,"templateMiddle"):C=b(y,"templateEnd");var me={type:"element",value:x[te]},_e={type:"element",value:oe},Be={0:me,1:_e};oe=fn(C,Be),te--}return oe}function oi(y,x){var C=xr(y,x),O="",B=!0,G=!1,se=void 0;try{for(var Y=C[Symbol.iterator](),oe;!(B=(oe=Y.next()).done);B=!0){var te=oe.value;O+=te.value}}catch(me){G=!0,se=me}finally{try{!B&&Y.return!=null&&Y.return()}finally{if(G)throw se}}return O}function ii(y,x){return xr(y,x)}var Xe=function(){function y(){r(this,y);var x=arguments[0],C=arguments[1];if((this instanceof y?this.constructor:void 0)===void 0)throw new TypeError("Constructor Intl.ListFormat requires 'new'");var O=Intl.getCanonicalLocales(x);C=C===void 0?Object.create(null):u(C);var B=Object.create(null),G=pe(C,"localeMatcher","string",a,"best fit");B.localeMatcher=G;var se=pe(C,"type","string",o,"conjunction");v(this,"type",se);var Y=pe(C,"style","string",i,"long");v(this,"style",Y);var oe=m.localeData,te=Zo(m.availableLocales,O,B),me=te.dataLocale,_e=oe[me],Be=_e.formats[se],$e=Be[Y];v(this,"templatePair",$e.Pair),v(this,"templateStart",$e.Start),v(this,"templateMiddle",$e.Middle),v(this,"templateEnd",$e.End),v(this,"locale",te.locale),v(this,"initializedListFormat",this)}return n(y,[{key:"format",value:function(C){var O=this;if(!(O instanceof Object))throw new TypeError("Method Intl.ListFormat.prototype.format called on incompatible receiver ".concat(this.toString()));if(!k(O,"initializedListFormat"))throw new TypeError("Method Intl.ListFormat.prototype.format called on incompatible receiver ".concat(this.toString()));var B=un(C);return oi(O,B)}},{key:"formatToParts",value:function(C){var O=this;if(!(O instanceof Object))throw new TypeError("Method Intl.ListFormat.prototype.formatToParts called on incompatible receiver ".concat(this.toString()));if(!k(O,"initializedListFormat"))throw new TypeError("Method Intl.ListFormat.prototype.formatToParts called on incompatible receiver ".concat(this.toString()));var B=un(C);return ii(O,B)}},{key:"resolvedOptions",value:function(){var C=this;if(!(C instanceof Object))throw new TypeError("Method Intl.ListFormat.prototype.resolvedOptions called on incompatible receiver ".concat(this.toString()));if(!k(C,"initializedListFormat"))throw new TypeError("Method Intl.ListFormat.prototype.resolvedOptions called on incompatible receiver ".concat(this.toString()));var O=b(this,"locale"),B=b(this,"type"),G=b(this,"style");return{locale:O,type:B,style:G}}}],[{key:"supportedLocalesOf",value:function(C){var O=arguments[1],B=m.availableLocales,G=Intl.getCanonicalLocales(C);return bt(B,G,O)}},{key:"__addLocaleData",value:function(C){var O=C.data,B=C.locale,G=p();G==null&&d(B),m.localeData[B]=O,m.availableLocales.includes(B)||m.availableLocales.push(B)}}]),y}();Object.defineProperty(Xe.prototype,Symbol.toStringTag,{writable:!1,enumerable:!1,value:"Intl.ListFormat",configurable:!0});function St(){if(typeof Intl>"u")throw new TypeError("Could not define Intl.ListFormat: Expected 'Intl' to exist. Remember to include polyfill for Intl.getCanonicalLocales before applying this polyfill");Intl.ListFormat=Xe}t||St()})();s();"__addLocaleData"in Intl.ListFormat&&Intl.ListFormat.__addLocaleData({locale:"en",data:{formats:{conjunction:{long:{Pair:"{0} and {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, and {1}"},short:{Pair:"{0} & {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, & {1}"},narrow:{Pair:"{0}, {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, {1}"}},disjunction:{long:{Pair:"{0} or {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, or {1}"},short:{Pair:"{0} or {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, or {1}"},narrow:{Pair:"{0} or {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, or {1}"}},unit:{long:{Pair:"{0}, {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, {1}"},short:{Pair:"{0}, {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, {1}"},narrow:{Pair:"{0} {1}",Start:"{0} {1}",Middle:"{0} {1}",End:"{0} {1}"}}}}});var Jp=T(rm());K();s();function cm(t){return ms().collection("spaces").doc(t).collection("redirects")}function tl(t,r){return cm(t).doc(hs(r))}s();function lm(t){return vn(t).collection("page-feedbacks")}function rl(t,r){return lm(t).doc(r)}function um(t,r){return rl(t,r).collection("feedbacks")}function bi(t,r,e){return um(t,r).doc(e)}function nl(t,r){let e=bi(r.space,r.page,r.visitorId),n=rl(r.space,r.page);t.set(e,{visitorId:r.visitorId,rating:r.rating,createdAt:We.firestore.Timestamp.now(),revision:r.revision,page:r.page}),t.set(n,{[r.rating]:We.firestore.FieldValue.increment(1),updatedAt:We.firestore.Timestamp.now()},{merge:!0}),r.previousRating&&t.update(n,{[r.previousRating]:We.firestore.FieldValue.increment(-1)})}s();s();var Zt=T(R()),Mn=T(am());function ol(t=5e3){let[r,e]=Zt.useState(!1),n=Zt.useRef(null);return Zt.useEffect(()=>(!r&&typeof window<"u"&&(n.current=setTimeout(()=>(0,Mn.unstable_runWithPriority)(Mn.unstable_IdlePriority,()=>e(!0)),t)),()=>{n.current&&clearTimeout(n.current)}),[]),r}s();var Nn=T(R());function il(t,r){let[e,n]=Nn.useState(t);return Nn.useEffect(()=>{let o=typeof r=="number"?r:r[t],i=setTimeout(()=>{n(t)},o);return()=>{clearTimeout(i)}},[t,r]),e}s();var ue=T(R());K();s();var Z=T(R());K();s();var Ae=T(R());function fm(t){if(typeof t.key!="string")throw new Error("Need a key getter");return t.key}function al(t){let{items:r,scrollTo:e,onSelect:n,getKey:o=fm}=t,[i,a]=(0,Ae.useState)(null),c=(0,Ae.useRef)(!1),l=(0,Ae.useMemo)(()=>dm(r,i,o),[r,i,o]),u=qs(l),f=(0,Ae.useCallback)(g=>a(o(g)),[a,o]),d=(0,Ae.useCallback)(g=>{c.current||f(g)},[f]),p=(0,Ae.useCallback)(g=>{if(g>0&&u.current.next){let{next:w}=u.current;f(w),e(w)}else if(g<0&&u.current.prev){let{prev:w}=u.current;f(w),e(w)}},[e,f]);return(0,Ae.useEffect)(()=>{let g=()=>{c.current=!1,document.removeEventListener("mousemove",g)},w=m=>{let v=c.current;m.key==="Enter"?(m.preventDefault(),m.stopPropagation(),u.current.current&&n(u.current.current)):m.key==="ArrowDown"?(m.preventDefault(),m.stopPropagation(),c.current=!0,p(1)):m.key==="ArrowUp"&&(m.preventDefault(),m.stopPropagation(),c.current=!0,p(-1)),c.current&&v!==c.current&&document.addEventListener("mousemove",g)};return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("mousemove",g)}},[p,n]),{cursor:l,setCursor:f,hoverItem:d}}function dm(t,r,e){let n=null,o=null,i=null;return t.some(a=>(e(a)===r?i=a:i?i&&!o&&(o=a):n=a,i!=null&&o!=null)),i||(n=null,i=t[0],o=t[1]),{prev:n,next:o,current:i}}s();var H=T(R());K();var sl="Label",cl="Label",ll="Label",ul="Caption",Si="Caption",fl=Si;function dl(t){let{command:r,query:e,active:n,inline:o,executeCommand:i,onHoverIn:a}=t,[c,l]=I(re),[,u]=I(pm),[f,d]=Xs(!1),p=l.text,g=l.textMid,w=l.primary,m=c.colors.background.main;n&&(p=l.textStandout,g=l.textMid,m=c.colors.background.muted);let v=[l.Bold],b=H.useCallback(()=>{let E=i(r);E instanceof Promise&&d(()=>E)},[r,i]),k=H.useCallback(()=>a(r),[r,a]),F=le.useInteractiveState({onHoverIn:k});return H.createElement(qt,{component:Ye,...F.events,onMouseDown:E=>{E.preventDefault()},onPress:b,backgroundColor:m,style:[S.directionRow,S.alignCenter,o||r.size==="small"?h.Padding.smallVertical:h.Padding.mediumVertical,o?h.Padding.mediumHorizontal:h.Padding.largeHorizontal,{height:wi(r,o)}]},f?H.createElement(P,{style:[h.Padding.mediumRight]},H.createElement(lt,{size:_.ICON_M})):r.icon?H.createElement(P,{style:[h.Padding.mediumRight]},H.createElement(H.Suspense,{fallback:H.createElement(P,{style:{width:_.ICON_M,height:_.ICON_M}})},H.createElement(r.icon,{size:_.ICON_M,style:w}))):null,H.createElement(P,{style:S.flex1},H.createElement(P,{style:S.directionRow},H.createElement(P,{style:S.flex1},r.title?H.createElement(P,null,H.createElement(ie,{style:[o?l[cl]:l[sl],p,r.subtitle?l.Bold:l.Medium],numberOfLines:1},H.createElement(Tn,{query:e,text:r.title,highlight:v}))):null,r.subtitle?H.createElement(P,null,H.createElement(ie,{style:[o?l[ul]:l[ll],g],numberOfLines:o?1:void 0},H.createElement(Tn,{query:e,text:r.subtitle,highlight:v}))):null),r.label?H.createElement(P,{style:[S.directionRow,S.alignCenter,h.Margin.smallLeft,h.Padding.smallHorizontal,u.commandLabel]},r.label.icon?H.createElement(P,{style:[h.Padding.smallRight]},H.createElement(H.Suspense,{fallback:H.createElement(P,{style:{width:_.ICON_S,height:_.ICON_S}})},H.createElement(r.label.icon,{size:_.ICON_S,style:l.textInsideColor}))):null,H.createElement(P,null,H.createElement(ie,{style:[l.Caption,l.textInsideColor]},r.label.title))):null,o||!r.shortcut?null:H.createElement(P,{style:[S.directionRow,S.alignCenter]},H.createElement(P,{style:[h.Margin.smallLeft,h.Padding.smallHorizontal]},H.createElement(vc,{shortcut:r.shortcut})))),r.body?H.createElement(P,{style:[u.commandBody,h.Padding.smallLeft,h.Margin.smallTop]},r.body.map((E,A)=>H.createElement(P,{key:A},H.createElement(ie,{style:[o?l[fl]:l[Si],l.textMid],numberOfLines:1},H.createElement(Tn,{query:e,text:E,highlight:v}))))):null),typeof r.selected=="boolean"?H.createElement(P,{style:[h.Padding.mediumLeft]},H.createElement(oc,{value:r.selected,onValueChange:b,size:o?_.ICON_S:_.ICON_M})):null,typeof r.enabled=="boolean"?H.createElement(P,{style:[h.Padding.mediumLeft]},H.createElement(nc,{value:r.enabled,onValueChange:b})):null)}function wi(t,r){let e=0;return e+=2*(r||t.size==="small"?h.small:h.medium),e+=Math.max(t.title&&(r?Rt[cl]:Rt[sl]).lineHeight||0,t.icon?_.ICON_M:0,typeof t.selected=="boolean"||typeof t.enabled=="boolean"?r?_.ICON_S:_.ICON_M:0),t.subtitle&&(e+=(r?Rt[ul]:Rt[ll]).lineHeight||0),t.body&&(e+=h.small,e+=t.body.length*((r?Rt[fl]:Rt[Si]).lineHeight||0)),e}var pm=U.create({commandLabel:t=>({height:_.BUTTON_S,borderRadius:_.RADIUS_L,backgroundColor:t.colors.primary.main,textColor:t.colors.primary.textInside}),commandBody:t=>({borderLeftWidth:1,borderLeftColor:t.colors.border.mid})});function pl(t){let{computed:{listId:r,items:e,sections:n,areMoreLoading:o},palette:i,setPalette:a}=t,c=Pn(),l=Z.useRef(null),u=Z.useCallback(async E=>{a(await ac(i,E))},[a]),f=Z.useCallback(E=>{let A=-1;return{sectionIndex:n.findIndex(D=>(A=D.data.findIndex(j=>j.key===E),A>=0)),itemIndex:A,viewPosition:.5}},[n]),d=Z.useCallback(E=>{var A;return(A=l.current)==null?void 0:A.scrollToLocation(f(E.key))},[f]),{cursor:p,hoverItem:g}=al({items:e,onSelect:u,scrollTo:d}),w=!!i.position,m=w?n.length>1:!0,v=Z.useMemo(()=>gc({getItemHeight:({item:E})=>wi(E,w),getSectionSeparatorHeight:({section:E,leadingItem:A,leadingSection:we,trailingItem:D,trailingSection:j})=>we&&!A&&!E.group.title?2*(h.small-1)+1:j&&!D?w?_.S/4:_.S/2:0,getSectionHeaderHeight:({section:E})=>m&&E.group.title?_.S:0}),[w,m]),b=Z.useMemo(()=>m?({section:E})=>E.group.title?Z.createElement(hm,{group:E.group,inline:w}):null:void 0,[w,m]),k=Z.useCallback(E=>Z.createElement(gm,{...E,inline:w}),[w]),F=o&&w;if(!F&&e.length===0){let E=i.placeholder||(Ir(i)?null:"No items found");return E?Z.createElement(mm,{placeholder:E,inline:w}):null}return Z.createElement(P,{style:[S.flex1]},Z.createElement(os,{key:r,ref:l,sections:n,extraData:p,getItemLayout:v,renderItem:({item:E})=>{var A;return Z.createElement(dl,{active:c==="desktop"&&E.key===((A=p.current)==null?void 0:A.key),command:E,query:i.query.text,inline:w,executeCommand:u,onHoverIn:g})},SectionSeparatorComponent:k,renderSectionHeader:b,contentContainerStyle:[w?h.Padding.smallVertical:h.Padding.mediumVertical]}),F?Z.createElement(P,{style:[S.directionRow,S.justifyContentCenter,h.Padding.medium]},Z.createElement(lt,{size:_.ICON_L})):null)}function mm(t){let{placeholder:r,inline:e}=t,[,n]=I(re);return Z.createElement(P,{style:[h.Padding.smallHorizontal,h.Padding.mediumVertical]},Z.createElement(P,{style:[e?h.Padding.mediumHorizontal:h.Padding.largeHorizontal]},Z.createElement(ie,{style:[n.Caption,n.textMuted]},r)))}function hm(t){let{group:r,inline:e}=t,[,n]=I(re);return Z.createElement(P,{style:[vm.paletteGroupHeader,S.directionRow,S.alignCenter,h.Padding.smallHorizontal]},Z.createElement(P,{style:[e?h.Padding.smallHorizontal:h.Padding.largeHorizontal]},Z.createElement(ie,{style:[n.Heading4,n.textMuted]},r.title)))}function gm(t){let{leadingSection:r,section:e,leadingItem:n,inline:o,trailingSection:i,trailingItem:a}=t,[,c]=I(ym);return r&&!n&&!e.group.title?Z.createElement(P,{style:c.paletteDividerUntitled}):(i&&!a&&(P,o?c.paletteDividerFooterInline:c.paletteDividerFooter),null)}var vm=Re.create({paletteGroupHeader:{height:_.S}}),ym=U.create({paletteDividerUntitled:(t,r)=>({marginTop:h.small-1,marginBottom:h.small-1,borderTopColor:r.color==="light"?t.colors.border.mid:t.colors.sidebar.itemBorder,borderTopWidth:1}),paletteDividerFooter:{height:_.S/2},paletteDividerFooterInline:{height:_.S/4}});s();var Jt=T(R());K();function ml(t){let{error:r,inline:e}=t,[,n]=I(re);return Jt.createElement(P,{style:[S.directionRow,e?h.Padding.smallVertical:h.Padding.mediumVertical,e?h.Padding.mediumHorizontal:h.Padding.largeHorizontal]},Jt.createElement(P,{style:[h.Padding.mediumRight,h.Padding.xsmallTop]},Jt.createElement(q.Warning,{size:_.ICON_S,style:n.danger})),Jt.createElement(P,{style:S.flex1},Jt.createElement(ie,{style:[n.danger,n.Label]},us(r))))}s();var he=T(R());K();var hl=he.forwardRef(function(r,e){let{palette:n,setPalette:o,loading:i,withItems:a}=r,[,c]=I(Sm),[l,u]=I(re),f=il(i?"loading":"stale",{loading:400,stale:800}),d=xt(()=>new wt.Value(0)).current;he.useEffect(()=>{let v=wt.timing(d,{useNativeDriver:!0,toValue:f==="loading"?.7:0,duration:it.TRANSITION_DURATION_SHORT});return v.start(),()=>{v.stop()}},[d,f]);let[p,g]=$s(n.query.text,[n]),w=v=>{g(v),o(b=>!n||!b?n:sc(b,v))},m=v=>{v.nativeEvent.key==="Backspace"&&n.query.text.length===0?o(b=>b&&Object.keys(b.query.filters).length>0?lc(b):b):v.nativeEvent.key==="Escape"&&o(null)};return he.createElement(P,{style:a&&c.paletteInputWrapperWithBottomBorder},he.createElement(P,{style:[S.directionRow,S.alignCenter,c.paletteInput,n.position?h.Margin.small:h.Margin.medium]},n.position?null:he.createElement(P,{style:[h.Margin.largeLeft]},he.createElement(q.Search,{size:_.ICON_L,style:u.textMuted})),he.createElement(P,{style:[S.flex1]},he.createElement(is,{ref:e,value:p,placeholder:n.search,placeholderTextColor:l.colors.text.muted,onChangeText:w,onKeyPress:m,selectTextOnFocus:!0,style:[n.position?u.Caption:u.Body,u.text,n.position?h.Padding.mediumHorizontal:h.Padding.largeHorizontal,n.position?h.Padding.smallVertical:h.Padding.mediumVertical]})),n.position?null:he.createElement(wt.View,{style:[h.Margin.smallHorizontal,h.Margin.largeRight,{opacity:d}]},he.createElement(lt,{spinnerIcon:q.SpinnerNeutral,size:_.ICON_M,style:u.textMuted})),he.createElement(L.View,{mobileStyle:"visible",desktopStyle:"hidden",style:[h.Margin.smallHorizontal]},he.createElement(ce,{icon:q.X,size:"large",onPress:()=>o(null)}))),he.createElement(bm,{palette:n,setPalette:o}))});function bm(t){let{palette:r,setPalette:e}=t,n=Object.entries(r.query.filters);if(n.length===0)return null;let o=i=>{e(a=>cc(a,i))};return he.createElement(P,{style:[S.directionRow,h.Padding.largeHorizontal,h.Padding.mediumBottom]},n.map(([i,a])=>he.createElement(ic,{key:i,kind:"primary",size:"small",onPress:()=>o(i),style:h.Margin.smallRight},`${i}: ${a.text}`)))}var Sm=U.create({paletteInputWrapperWithBottomBorder:(t,r)=>({borderBottomColor:r.color==="light"?t.colors.border.mid:t.colors.sidebar.itemBorder,borderBottomWidth:1}),paletteInput:t=>({backgroundColor:t.colors.background.muted,borderRadius:_.RADIUS_L})});s();var Qt=T(R());function gl(t){let[r,e]=Qt.useState(!1),n=xt(()=>new WeakMap),o=Qt.useRef(null);return Qt.useMemo(()=>{let i=[],a=[],c;t.groups.forEach(f=>{let d;try{d=wm(t,f)}catch(p){c=p;return}if(d instanceof Promise){let p=n.current.get(f);p&&i.push(p),a.push(d)}else d&&(n.current.set(f,d),i.push(d))});let l=i.filter(f=>f.data.length>0).sort((f,d)=>f.priority>d.priority?-1:f.priority<d.priority?1:0),u=l.reduce((f,d)=>(f.push(...d.data),f),[]);if(a.length>0){e(!0);let f=o.current=Promise.all(a);f.then(()=>{f===o.current&&(e(!1),o.current=null)}).catch(d=>ls(new Error(d)))}return{listId:Date.now(),items:u,sections:l,areMoreLoading:r,error:c}},[t,r,n])}function wm(t,r){try{if(Object.keys(t.query.filters).length>0&&typeof r.commands!="function")return;let e=typeof r.commands=="function"?r.commands(t):r.commands,n=typeof r.commands!="function"||r.commands.length===0,o=r.priority||5;if(n){let i=Cm(t.query.text,e);o=i.reduce((a,c)=>typeof c.score<"u"?Math.max((1-c.score)*10,a):a,o),e=i.map(a=>a.item)}return{group:r,priority:o,data:e}}catch(e){if(e instanceof Promise)return e;throw e}}function Cm(t,r){return t?new _s(r,{threshold:.3,location:0,distance:100,shouldSort:!0,includeScore:!0,minMatchCharLength:1,isCaseSensitive:!1,keys:["title","keywords"]}).search(t):r.map(n=>({item:n,score:void 0}))}s();var Ti=T(im()),jn=T(R());var Ci=204,Vn=246,Pi=384,Pm=630,Fn=180,Hn=355;function vl(t){let r=jn.useMemo(()=>Rm(t),[t]),e=jn.useCallback(a=>Tm(a,t),[t]),[n,o,i]=Sc(t==null?void 0:t.anchorRef,e,r);return[n,o,i]}function Tm(t,r){let e,n=(r==null?void 0:r.width)||"medium";switch(n){case"small":e={width:Ci,maxWidth:Ci,minWidth:Ci,minHeight:0,height:Fn,maxHeight:Hn};break;case"medium":e={width:Vn,maxWidth:Vn,minWidth:Vn,minHeight:0,height:Fn,maxHeight:Hn};break;case"large":e={width:Pi,maxWidth:Pi,minWidth:Pi,minHeight:0,height:Fn,maxHeight:Hn};break;case"anchor":let o=Math.max(Vn,t.width),i=(0,Ti.default)(t.width,o,Pm);e={width:(0,Ti.default)(t.width,o,i),maxWidth:i,minWidth:o,minHeight:0,height:Fn,maxHeight:Hn};break;default:zt(n)}return e}function Rm(t){let r={cover:t==null?void 0:t.cover,spacingWithAnchor:h.small};return(t==null?void 0:t.width)==="anchor"&&(r.allowedPlacements=["bottom","top"]),r}var xm=L.createResponsiveComponent(qt);function yl(t){let[r,e]=Je(uc);return ue.createElement(Js,null,r?ue.createElement(_m,{palette:r,setPalette:e,paletteVariant:r.variants||{}}):null)}function _m(t){var p;let{palette:r,setPalette:e,paletteVariant:n}=t,o=ue.useRef(null),[,i]=I(bl),a=()=>e(null),[c,l]=vl(r.position),u=kr(it.fade),f=kr(r.position?it.slideToL[l]:it.pop),d=Zs("OUTSIDE_CLICK");return Cn({opened:!0,closeOnEsc:!Ir(r),closeOnClick:!1,closeOnOutsideClick:!1,closeOnScroll:!1,onClose:a},o),ue.createElement(ut,{ref:o},ue.createElement(ci,{onPressIn:()=>{d&&a()}},ue.createElement(P,{ref:u,style:[i.paletteBackdrop,((p=r.position)==null?void 0:p.anchorRef)&&i.paletteBackdropInline]},ue.createElement(Xt,{theme:n},ue.createElement(Em,{ref:f,...t,positionStyle:c})))))}var Em=ue.forwardRef(function(r,e){let{palette:n,setPalette:o,positionStyle:i}=r,a=ue.useRef(null),[c,l]=I(bl),u=gl(n);return ue.useEffect(()=>{a.current&&a.current.focus()},[n]),ue.createElement(ci,{onPress:f=>f.preventDefault()},ue.createElement(xm,{ref:e,backgroundColor:c.colors.background.main,style:[l.palette],mobileStyle:l.paletteMobile,desktopStyle:n.position?[l.paletteInline,i]:l.paletteDesktop,onStartShouldSetResponder:()=>!0},Ir(n)?ue.createElement(hl,{ref:a,palette:n,setPalette:o,loading:u.areMoreLoading,withItems:u.items.length>0}):null,u.error?ue.createElement(ml,{error:u.error,inline:!!n.position}):null,ue.createElement(pl,{computed:u,palette:n,setPalette:o})))}),bl=U.create({paletteBackdrop:t=>({flexDirection:"row",alignItems:"flex-start",justifyContent:"center",position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",zIndex:100,backgroundColor:t.colors.backdrop.background}),paletteBackdropInline:t=>({backgroundColor:"transparent"}),palette:t=>({borderRadius:_.RADIUS_XL,borderColor:t.colors.border.main,borderWidth:1,overflow:"hidden",...t.shadows.pop}),paletteDesktop:{marginTop:h.xxlarge,width:640,maxHeight:480},paletteMobile:{position:"absolute",marginTop:0,top:h.small,left:h.small,right:h.small,maxHeight:440,width:"auto",maxWidth:"100%",minWidth:"auto"},paletteInline:{position:"absolute"}});s();var Et=T(R());K();s();var Bn=T(R());K();var km=L.createResponsiveComponent(Ye);function Sl(t){let[,r]=I(Am),{close:e}=On(),n=Pn()==="mobile",o=t.closeable||n,i=()=>{t.onClose&&t.onClose(),e(t.id)},a=kr({mount:Im,unmount:Dm});return Bn.createElement(P,{ref:a},Bn.createElement(km,{mobileStyle:r.toastMobile,desktopStyle:r.toastDesktop,onPress:()=>{t.onOpen&&t.onOpen(),o&&i()}},Bn.createElement(Tc,{...t,onClose:o?i:void 0,style:r.alert})))}var Im={duration:it.TRANSITION_DURATION_SHORT,frames:{0:{opacity:0,transform:[{translateY:100}]},1:{opacity:1,transform:[{translateY:0}]}}},Dm={duration:it.TRANSITION_DURATION_SHORT,frames:{0:{opacity:1,transform:[{translateY:0}]},1:{opacity:0,transform:[{translateY:100}]}}},Am=U.create({toastDesktop:{width:"auto",minWidth:420,maxWidth:720,marginBottom:h.small},toastMobile:{width:"100%",minWidth:0},alert:t=>({...t.shadows.pop,borderColor:t.colors.border.main})});function wl(t){let r=Er(Pc),e=Er(Cc),n=Et.useRef(null),o=Mm[r];return Et.createElement(ut,{ref:n},Et.createElement(L.View,{style:[Lm.toaster],mobileStyle:o.mobile,desktopStyle:o.desktop},Et.createElement(Qs,null,e.map(i=>Et.createElement(Sl,{...i,key:i.id})))))}var Lm=Re.create({toaster:{position:"absolute",zIndex:200}}),Mm={"bottom-right":Re.create({desktop:{bottom:h.medium,right:h.medium},mobile:{bottom:h.medium,right:h.medium,left:h.medium}}),"bottom-right-with-bar":Re.create({desktop:{bottom:h.xxlarge,right:h.medium},mobile:{bottom:h.xxlarge+h.xlarge+h.medium,right:h.medium,left:h.medium}})};s();var Mr=T(R());function Cl(t){let{children:r}=t;return Mr.createElement(Ws,null,Mr.createElement(rc,null,Mr.createElement(yl,null),Mr.createElement(wl,null),r))}s();var Un=T(R());var Wn=De("auth"),xl="gbn-auth-key",Oi=yc(t=>{let{customToken:r,waitUserReady:e=!0}=t;if(typeof window>"u")throw new Error("initializeAuth should not be called during SSR");return!r&&!e?{customToken:r}:new li("auth.initialize").wrap(async()=>{let o=localStorage.getItem(xl);if(r)try{Wn.info("authenticating with custom token before subscribing to auth"),await We.auth().signInWithCustomToken(r)}catch(i){Wn.critical("Error during auth with custom token",i)}else if(o){Wn.info("authenticating with key from gitbook-new");try{await Gm(o)}catch(i){Wn.error("failed to authenticate with gitbook-new, fallback to normal auth",i)}}return e!==!1&&await new Promise((i,a)=>{let c=We.auth().onAuthStateChanged(()=>{c(),i()},a)}),{customToken:r}})});async function Gm(t){return new li("auth.authenticateWithGitBookNewKey").wrap(async()=>{let{data:e}=await We.functions().httpsCallable("users-authWithGitBookNew")({key:t});await We.auth().signInWithCustomToken(e.token),localStorage.removeItem(xl)})}function xi(t){return Oi.readAsync(t)}function zn(t){let{children:r}=t;if(typeof window<"u"){if(Oi.state==="unstarted")throw new Error("initializeAuth should have been called before useWaitFirebaseAuth");Oi.read({})}return Un.createElement(Un.Fragment,null,r)}s();s();s();function er(){return er=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},er.apply(this,arguments)}var tr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(tr||(tr={}));var _l=function(t){return t};var El="beforeunload";var qm="popstate";function Dl(t){t===void 0&&(t={});var r=t,e=r.window,n=e===void 0?document.defaultView:e,o=n.history;function i(){var D=n.location,j=D.pathname,ee=D.search,Ce=D.hash,ge=o.state||{};return[ge.idx,_l({pathname:j,search:ee,hash:Ce,state:ge.usr||null,key:ge.key||"default"})]}var a=null;function c(){if(a)g.call(a),a=null;else{var D=tr.Pop,j=i(),ee=j[0],Ce=j[1];if(g.length){if(ee!=null){var ge=f-ee;ge&&(a={action:D,location:Ce,retry:function(){A(ge*-1)}},A(ge))}}else k(D)}}n.addEventListener(qm,c);var l=tr.Pop,u=i(),f=u[0],d=u[1],p=Il(),g=Il();f==null&&(f=0,o.replaceState(er({},o.state,{idx:f}),""));function w(D){return typeof D=="string"?D:_i(D)}function m(D,j){return j===void 0&&(j=null),_l(er({pathname:d.pathname,hash:"",search:""},typeof D=="string"?Ei(D):D,{state:j,key:Xm()}))}function v(D,j){return[{usr:D.state,key:D.key,idx:j},w(D)]}function b(D,j,ee){return!g.length||(g.call({action:D,location:j,retry:ee}),!1)}function k(D){l=D;var j=i();f=j[0],d=j[1],p.call({action:l,location:d})}function F(D,j){var ee=tr.Push,Ce=m(D,j);function ge(){F(D,j)}if(b(ee,Ce,ge)){var pe=v(Ce,f+1),bt=pe[0],je=pe[1];try{o.pushState(bt,"",je)}catch(Ut){n.location.assign(je)}k(ee)}}function E(D,j){var ee=tr.Replace,Ce=m(D,j);function ge(){E(D,j)}if(b(ee,Ce,ge)){var pe=v(Ce,f),bt=pe[0],je=pe[1];o.replaceState(bt,"",je),k(ee)}}function A(D){o.go(D)}var we={get action(){return l},get location(){return d},createHref:w,push:F,replace:E,go:A,back:function(){A(-1)},forward:function(){A(1)},listen:function(j){return p.push(j)},block:function(j){var ee=g.push(j);return g.length===1&&n.addEventListener(El,kl),function(){ee(),g.length||n.removeEventListener(El,kl)}}};return we}function kl(t){t.preventDefault(),t.returnValue=""}function Il(){var t=[];return{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter(function(n){return n!==e})}},call:function(e){t.forEach(function(n){return n&&n(e)})}}}function Xm(){return Math.random().toString(36).substr(2,8)}function _i(t){var r=t.pathname,e=r===void 0?"/":r,n=t.search,o=n===void 0?"":n,i=t.hash,a=i===void 0?"":i;return o&&o!=="?"&&(e+=o.charAt(0)==="?"?o:"?"+o),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function Ei(t){var r={};if(t){var e=t.indexOf("#");e>=0&&(r.hash=t.substr(e),t=t.substr(0,e));var n=t.indexOf("?");n>=0&&(r.search=t.substr(n),t=t.substr(0,n)),t&&(r.pathname=t)}return r}var ki=De("history");function Al(){let t=Dl(),r=[],e=!1,n=()=>{let i=r.shift();return i?(i(),!1):!0},o=i=>{e?r.push(i):i()};return{get location(){return t.location},listen:i=>t.listen(a=>{i({location:a.location,action:a.action})}),push:i=>{let{state:a,...c}=i;o(()=>{ki.info("push",c,a),t.push(c,a)})},replace:i=>{let{state:a,...c}=i;o(()=>{ki.info("replace",c,a),t.replace(c,a)})},go:i=>{o(()=>{ki.info("go",i),t.go(i)})},transaction:i=>{if(e)i();else{let a=t.listen(()=>{n()&&a()});e=!0,i(),e=!1,n()&&a()}}}}s();function Ml(t){let{basename:r="",location:e="/",context:n}=t,o=(a,c)=>{n.action=c,n.location=$m(r,Ll(a)),n.url=_i(n.location)};return{staticContext:n,location:Ym(r,Ll(Ei(e))),push:a=>{o(a,"PUSH")},replace:a=>{o(a,"REPLACE")},go:()=>{},listen:()=>()=>{},transaction:a=>{a()}}}function Nl(t){return t.charAt(0)==="/"?t:`/${t}`}function $m(t,r){return t?{...r,pathname:Nl(t)+r.pathname}:r}function Ym(t,r){if(!t||!r.pathname)return r;let e=Nl(t);return r.pathname.indexOf(e)!==0?r:{...r,pathname:r.pathname.substr(e.length)}}function Ll(t){let r={hash:"",search:"",pathname:"",...t,key:"",state:void 0};return r.search&&r.search.charAt(0)!=="?"&&(r.search=`?${r.search}`),r.hash&&r.hash.charAt(0)!=="#"&&(r.hash=`#${r.hash}`),r}s();var kt=T(R()),Vl=T(sm());function Ii(t){let{history:r,children:e}=t,n=kt.useMemo(()=>r||Al(),[r]),o=kt.useMemo(()=>({getCurrentValue:()=>n.location,subscribe:a=>n.listen(a)}),[n]),i=(0,Vl.useSubscription)(o);return kt.createElement(_c.Provider,{value:n},kt.createElement(Ec.Provider,{value:i},e))}function Fl(t){let{children:r,...e}=t,n=Ml(e);return kt.createElement(Ii,{history:n},r)}s();K();function Di(t){let{src:r,bestHeight:e,maxWidth:n,style:o}=t;return ns("img",{src:r,style:[{maxHeight:e,maxWidth:n,width:"auto",height:"auto"},o]})}s();var Gn=T(R());function jl(t){var n,o,i;let r=(0,Gn.useContext)(Yt);Km(r,t),xt(()=>Bl(r,t));let e=xt(()=>Hl(r,t));(0,Gn.useEffect)(()=>(e.current=Hl(r,t),()=>{!e.current||window.gtag("config",e.current,{update:!0,groups:"not_tracking_views"})}),[(n=t==null?void 0:t.googleAnalytics)==null?void 0:n.enabled,(o=t==null?void 0:t.googleAnalytics)==null?void 0:o.trackingPrivateViews,(i=t==null?void 0:t.googleAnalytics)==null?void 0:i.trackingID,r])}function Ai(t){var r;return Boolean(((r=t.googleAnalytics)==null?void 0:r.enabled)&&typeof t.googleAnalytics.trackingID=="string")}function Km(t,r){Ue(e=>{var n;Li(t,r)||e.writeSafe({type:"script",src:`https://www.googletagmanager.com/gtag/js?l=dataLayer&id=${(n=r==null?void 0:r.googleAnalytics)==null?void 0:n.trackingID}`})})}function Bl(t,r){Li(t,r)||typeof window>"u"||(window==null?void 0:window.gtag)||(window.dataLayer=window.dataLayer||[],window.gtag=function(...e){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",r.googleAnalytics.trackingID))}function Hl(t,r){var n;if(Li(t,r)||typeof window>"u")return;window!=null&&window.gtag||Bl(t,r),window.gtag("config",r.googleAnalytics.trackingID,{send_page_view:!1,anonymize_ip:!0,groups:"tracking_views"});let e=Sn()==="rejected";return window.gtag("consent","default",{ad_storage:e?"denied":"granted",analytics_storage:e?"denied":"granted"}),(n=r==null?void 0:r.googleAnalytics)==null?void 0:n.trackingID}function Li(t,r){var e;return!r||!r.googleAnalytics||!Ai(r)||t.preview||t.mode!=="public-content"&&!((e=r==null?void 0:r.googleAnalytics)!=null&&e.trackingPrivateViews)}s();var Yu=T(ql()),to=T(R());s();var Ee;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Ee||(Ee={}));s();s();s();s();s();s();var rr="dnd-core/INIT_COORDS",dt="dnd-core/BEGIN_DRAG",nr="dnd-core/PUBLISH_DRAG_SOURCE",pt="dnd-core/HOVER",mt="dnd-core/DROP",ht="dnd-core/END_DRAG";function Ni(t,r){return{type:rr,payload:{sourceClientOffset:r||null,clientOffset:t||null}}}s();function qn(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qn=function(e){return typeof e}:qn=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qn(t)}function Xl(t,r,e){return r.split(".").reduce(function(n,o){return n&&n[o]?n[o]:e||null},t)}function $l(t,r){return t.filter(function(e){return e!==r})}function Xn(t){return qn(t)==="object"}function Yl(t,r){var e=new Map,n=function(a){e.set(a,e.has(a)?e.get(a)+1:1)};t.forEach(n),r.forEach(n);var o=[];return e.forEach(function(i,a){i===1&&o.push(a)}),o}function Kl(t,r){return t.filter(function(e){return r.indexOf(e)>-1})}var th={type:rr,payload:{clientOffset:null,sourceClientOffset:null}};function Zl(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{publishSource:!0},o=n.publishSource,i=o===void 0?!0:o,a=n.clientOffset,c=n.getSourceClientOffset,l=t.getMonitor(),u=t.getRegistry();t.dispatch(Ni(a)),rh(e,l,u);var f=ih(e,l);if(f===null){t.dispatch(th);return}var d=null;if(a){if(!c)throw new Error("getSourceClientOffset must be defined");nh(c),d=c(f)}t.dispatch(Ni(a,d));var p=u.getSource(f),g=p.beginDrag(l,f);if(g!=null){oh(g),u.pinSource(f);var w=u.getSourceType(f);return{type:dt,payload:{itemType:w,item:g,sourceId:f,clientOffset:a||null,sourceClientOffset:d||null,isSourcePublic:!!i}}}}}function rh(t,r,e){M(!r.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(n){M(e.getSource(n),"Expected sourceIds to be registered.")})}function nh(t){M(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function oh(t){M(Xn(t),"Item must be an object.")}function ih(t,r){for(var e=null,n=t.length-1;n>=0;n--)if(r.canDragSource(t[n])){e=t[n];break}return e}s();function Jl(t){return function(){var e=t.getMonitor();if(e.isDragging())return{type:nr}}}s();s();function Vr(t,r){return r===null?t===null:Array.isArray(t)?t.some(function(e){return e===r}):t===r}function Ql(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=n.clientOffset;ah(e);var i=e.slice(0),a=t.getMonitor(),c=t.getRegistry();sh(i,a,c);var l=a.getItemType();return ch(i,c,l),lh(i,a,c),{type:pt,payload:{targetIds:i,clientOffset:o||null}}}}function ah(t){M(Array.isArray(t),"Expected targetIds to be an array.")}function sh(t,r,e){M(r.isDragging(),"Cannot call hover while not dragging."),M(!r.didDrop(),"Cannot call hover after drop.");for(var n=0;n<t.length;n++){var o=t[n];M(t.lastIndexOf(o)===n,"Expected targetIds to be unique in the passed array.");var i=e.getTarget(o);M(i,"Expected targetIds to be registered.")}}function ch(t,r,e){for(var n=t.length-1;n>=0;n--){var o=t[n],i=r.getTargetType(o);Vr(i,e)||t.splice(n,1)}}function lh(t,r,e){t.forEach(function(n){var o=e.getTarget(n);o.hover(r,n)})}s();function eu(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),e.push.apply(e,n)}return e}function tu(t){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?eu(Object(e),!0).forEach(function(n){uh(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):eu(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function uh(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function ru(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.getMonitor(),o=t.getRegistry();fh(n);var i=mh(n);i.forEach(function(a,c){var l=dh(a,c,o,n),u={type:mt,payload:{dropResult:tu(tu({},e),l)}};t.dispatch(u)})}}function fh(t){M(t.isDragging(),"Cannot call drop while not dragging."),M(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function dh(t,r,e,n){var o=e.getTarget(t),i=o?o.drop(n,t):void 0;return ph(i),typeof i>"u"&&(i=r===0?{}:n.getDropResult()),i}function ph(t){M(typeof t>"u"||Xn(t),"Drop result must either be an object or undefined.")}function mh(t){var r=t.getTargetIds().filter(t.canDropOnTarget,t);return r.reverse(),r}s();function nu(t){return function(){var e=t.getMonitor(),n=t.getRegistry();hh(e);var o=e.getSourceId();if(o!=null){var i=n.getSource(o,!0);i.endDrag(e,o),n.unpinSource()}return{type:ht}}}function hh(t){M(t.isDragging(),"Cannot call endDrag while not dragging.")}function ou(t){return{beginDrag:Zl(t),publishDragSource:Jl(t),hover:Ql(t),drop:ru(t),endDrag:nu(t)}}function gh(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function iu(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function vh(t,r,e){return r&&iu(t.prototype,r),e&&iu(t,e),t}var au=function(){function t(r,e){var n=this;gh(this,t),this.isSetUp=!1,this.handleRefCountChange=function(){var o=n.store.getState().refCount>0;n.backend&&(o&&!n.isSetUp?(n.backend.setup(),n.isSetUp=!0):!o&&n.isSetUp&&(n.backend.teardown(),n.isSetUp=!1))},this.store=r,this.monitor=e,r.subscribe(this.handleRefCountChange)}return vh(t,[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,n=this.store.dispatch;function o(a){return function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var f=a.apply(e,l);typeof f<"u"&&n(f)}}var i=ou(this);return Object.keys(i).reduce(function(a,c){var l=i[c];return a[c]=o(l),a},{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}]),t}();s();s();s();function Le(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var su=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Vi=function(){return Math.random().toString(36).substring(7).split("").join(".")},cu={INIT:"@@redux/INIT"+Vi(),REPLACE:"@@redux/REPLACE"+Vi(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Vi()}};function yh(t){if(typeof t!="object"||t===null)return!1;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r}function Fi(t,r,e){var n;if(typeof r=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(Le(0));if(typeof r=="function"&&typeof e>"u"&&(e=r,r=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(Le(1));return e(Fi)(t,r)}if(typeof t!="function")throw new Error(Le(2));var o=t,i=r,a=[],c=a,l=!1;function u(){c===a&&(c=a.slice())}function f(){if(l)throw new Error(Le(3));return i}function d(m){if(typeof m!="function")throw new Error(Le(4));if(l)throw new Error(Le(5));var v=!0;return u(),c.push(m),function(){if(!!v){if(l)throw new Error(Le(6));v=!1,u();var k=c.indexOf(m);c.splice(k,1),a=null}}}function p(m){if(!yh(m))throw new Error(Le(7));if(typeof m.type>"u")throw new Error(Le(8));if(l)throw new Error(Le(9));try{l=!0,i=o(i,m)}finally{l=!1}for(var v=a=c,b=0;b<v.length;b++){var k=v[b];k()}return m}function g(m){if(typeof m!="function")throw new Error(Le(10));o=m,p({type:cu.REPLACE})}function w(){var m,v=d;return m={subscribe:function(k){if(typeof k!="object"||k===null)throw new Error(Le(11));function F(){k.next&&k.next(f())}F();var E=v(F);return{unsubscribe:E}}},m[su]=function(){return this},m}return p({type:cu.INIT}),n={dispatch:p,subscribe:d,getState:f,replaceReducer:g},n[su]=w,n}s();s();s();var bh=function(r,e){return r===e};function lu(t,r){return!t&&!r?!0:!t||!r?!1:t.x===r.x&&t.y===r.y}function uu(t,r){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:bh;if(t.length!==r.length)return!1;for(var n=0;n<t.length;++n)if(!e(t[n],r[n]))return!1;return!0}function fu(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),e.push.apply(e,n)}return e}function du(t){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?fu(Object(e),!0).forEach(function(n){Sh(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):fu(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function Sh(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}var pu={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function mu(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pu,r=arguments.length>1?arguments[1]:void 0,e=r.payload;switch(r.type){case rr:case dt:return{initialSourceClientOffset:e.sourceClientOffset,initialClientOffset:e.clientOffset,clientOffset:e.clientOffset};case pt:return lu(t.clientOffset,e.clientOffset)?t:du(du({},t),{},{clientOffset:e.clientOffset});case ht:case mt:return pu;default:return t}}s();s();var Fr="dnd-core/ADD_SOURCE",Hr="dnd-core/ADD_TARGET",jr="dnd-core/REMOVE_SOURCE",It="dnd-core/REMOVE_TARGET";function hu(t){return{type:Fr,payload:{sourceId:t}}}function gu(t){return{type:Hr,payload:{targetId:t}}}function vu(t){return{type:jr,payload:{sourceId:t}}}function yu(t){return{type:It,payload:{targetId:t}}}function bu(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),e.push.apply(e,n)}return e}function Me(t){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?bu(Object(e),!0).forEach(function(n){wh(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):bu(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function wh(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}var Ch={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Su(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ch,r=arguments.length>1?arguments[1]:void 0,e=r.payload;switch(r.type){case dt:return Me(Me({},t),{},{itemType:e.itemType,item:e.item,sourceId:e.sourceId,isSourcePublic:e.isSourcePublic,dropResult:null,didDrop:!1});case nr:return Me(Me({},t),{},{isSourcePublic:!0});case pt:return Me(Me({},t),{},{targetIds:e.targetIds});case It:return t.targetIds.indexOf(e.targetId)===-1?t:Me(Me({},t),{},{targetIds:$l(t.targetIds,e.targetId)});case mt:return Me(Me({},t),{},{dropResult:e.dropResult,didDrop:!0,targetIds:[]});case ht:return Me(Me({},t),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}s();function wu(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case Fr:case Hr:return t+1;case jr:case It:return t-1;default:return t}}s();s();var or=[],$n=[];or.__IS_NONE__=!0;$n.__IS_ALL__=!0;function Cu(t,r){if(t===or)return!1;if(t===$n||typeof r>"u")return!0;var e=Kl(r,t);return e.length>0}function Pu(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:or,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case pt:break;case Fr:case Hr:case It:case jr:return or;case dt:case nr:case ht:case mt:default:return $n}var e=r.payload,n=e.targetIds,o=n===void 0?[]:n,i=e.prevTargetIds,a=i===void 0?[]:i,c=Yl(o,a),l=c.length>0||!uu(o,a);if(!l)return or;var u=a[a.length-1],f=o[o.length-1];return u!==f&&(u&&c.push(u),f&&c.push(f)),c}s();function Tu(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return t+1}function Ru(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),e.push.apply(e,n)}return e}function Ou(t){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?Ru(Object(e),!0).forEach(function(n){Ph(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Ru(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function Ph(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function xu(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:Pu(t.dirtyHandlerIds,{type:r.type,payload:Ou(Ou({},r.payload),{},{prevTargetIds:Xl(t,"dragOperation.targetIds",[])})}),dragOffset:mu(t.dragOffset,r),refCount:wu(t.refCount,r),dragOperation:Su(t.dragOperation,r),stateId:Tu(t.stateId)}}s();s();function Th(t,r){return{x:t.x+r.x,y:t.y+r.y}}function _u(t,r){return{x:t.x-r.x,y:t.y-r.y}}function Eu(t){var r=t.clientOffset,e=t.initialClientOffset,n=t.initialSourceClientOffset;return!r||!e||!n?null:_u(Th(r,n),e)}function ku(t){var r=t.clientOffset,e=t.initialClientOffset;return!r||!e?null:_u(r,e)}function Rh(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Iu(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Oh(t,r,e){return r&&Iu(t.prototype,r),e&&Iu(t,e),t}var Du=function(){function t(r,e){Rh(this,t),this.store=r,this.registry=e}return Oh(t,[{key:"subscribeToStateChange",value:function(e){var n=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{handlerIds:void 0},i=o.handlerIds;M(typeof e=="function","listener must be a function."),M(typeof i>"u"||Array.isArray(i),"handlerIds, when specified, must be an array of strings.");var a=this.store.getState().stateId,c=function(){var u=n.store.getState(),f=u.stateId;try{var d=f===a||f===a+1&&!Cu(u.dirtyHandlerIds,i);d||e()}finally{a=f}};return this.store.subscribe(c)}},{key:"subscribeToOffsetChange",value:function(e){var n=this;M(typeof e=="function","listener must be a function.");var o=this.store.getState().dragOffset,i=function(){var c=n.store.getState().dragOffset;c!==o&&(o=c,e())};return this.store.subscribe(i)}},{key:"canDragSource",value:function(e){if(!e)return!1;var n=this.registry.getSource(e);return M(n,"Expected to find a valid source. sourceId=".concat(e)),this.isDragging()?!1:n.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var n=this.registry.getTarget(e);if(M(n,"Expected to find a valid target. targetId=".concat(e)),!this.isDragging()||this.didDrop())return!1;var o=this.registry.getTargetType(e),i=this.getItemType();return Vr(o,i)&&n.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var n=this.registry.getSource(e,!0);if(M(n,"Expected to find a valid source. sourceId=".concat(e)),!this.isDragging()||!this.isSourcePublic())return!1;var o=this.registry.getSourceType(e),i=this.getItemType();return o!==i?!1:n.isDragging(this,e)}},{key:"isOverTarget",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shallow:!1};if(!e)return!1;var o=n.shallow;if(!this.isDragging())return!1;var i=this.registry.getTargetType(e),a=this.getItemType();if(a&&!Vr(i,a))return!1;var c=this.getTargetIds();if(!c.length)return!1;var l=c.indexOf(e);return o?l===c.length-1:l>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return Eu(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return ku(this.store.getState().dragOffset)}}]),t}();s();s();var xh=0;function Au(){return xh++}s();function Yn(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yn=function(e){return typeof e}:Yn=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yn(t)}function Lu(t){M(typeof t.canDrag=="function","Expected canDrag to be a function."),M(typeof t.beginDrag=="function","Expected beginDrag to be a function."),M(typeof t.endDrag=="function","Expected endDrag to be a function.")}function Mu(t){M(typeof t.canDrop=="function","Expected canDrop to be a function."),M(typeof t.hover=="function","Expected hover to be a function."),M(typeof t.drop=="function","Expected beginDrag to be a function.")}function Kn(t,r){if(r&&Array.isArray(t)){t.forEach(function(e){return Kn(e,!1)});return}M(typeof t=="string"||Yn(t)==="symbol",r?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}s();s();s();function Br(t){tt.length||(Zn(),Fu=!0),tt[tt.length]=t}var tt=[],Fu=!1,Zn,et=0,_h=1024;function Nu(){for(;et<tt.length;){var t=et;if(et=et+1,tt[t].call(),et>_h){for(var r=0,e=tt.length-et;r<e;r++)tt[r]=tt[r+et];tt.length-=et,et=0}}tt.length=0,et=0,Fu=!1}var Vu=typeof window<"u"?window:self,Hu=Vu.MutationObserver||Vu.WebKitMutationObserver;typeof Hu=="function"?Zn=Eh(Nu):Zn=ju(Nu);Br.requestFlush=Zn;function Eh(t){var r=1,e=new Hu(t),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){r=-r,n.data=r}}function ju(t){return function(){var e=setTimeout(o,0),n=setInterval(o,50);function o(){clearTimeout(e),clearInterval(n),t()}}}Br.makeRequestCallFromTimer=ju;var Jn=[],Hi=[],kh=Br.makeRequestCallFromTimer(Ih);function Ih(){if(Hi.length)throw Hi.shift()}function Qn(t){var r;Jn.length?r=Jn.pop():r=new Dh,r.task=t,Br(r)}var Dh=function(){function t(){}return t.prototype.call=function(){try{this.task.call()}catch(r){Qn.onerror?Qn.onerror(r):(Hi.push(r),kh())}finally{this.task=null,Jn[Jn.length]=this}},t}();function Ah(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Bu(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Lh(t,r,e){return r&&Bu(t.prototype,r),e&&Bu(t,e),t}function Mh(t,r){return Hh(t)||Fh(t,r)||Vh(t,r)||Nh()}function Nh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vh(t,r){if(!!t){if(typeof t=="string")return Wu(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Wu(t,r)}}function Wu(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function Fh(t,r){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var e=[],n=!0,o=!1,i=void 0;try{for(var a=t[Symbol.iterator](),c;!(n=(c=a.next()).done)&&(e.push(c.value),!(r&&e.length===r));n=!0);}catch(l){o=!0,i=l}finally{try{!n&&a.return!=null&&a.return()}finally{if(o)throw i}}return e}}function Hh(t){if(Array.isArray(t))return t}function jh(t){var r=Au().toString();switch(t){case Ee.SOURCE:return"S".concat(r);case Ee.TARGET:return"T".concat(r);default:throw new Error("Unknown Handler Role: ".concat(t))}}function Uu(t){switch(t[0]){case"S":return Ee.SOURCE;case"T":return Ee.TARGET;default:M(!1,"Cannot parse handler ID: ".concat(t))}}function zu(t,r){var e=t.entries(),n=!1;do{var o=e.next(),i=o.done,a=Mh(o.value,2),c=a[1];if(c===r)return!0;n=!!i}while(!n);return!1}var Gu=function(){function t(r){Ah(this,t),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=r}return Lh(t,[{key:"addSource",value:function(e,n){Kn(e),Lu(n);var o=this.addHandler(Ee.SOURCE,e,n);return this.store.dispatch(hu(o)),o}},{key:"addTarget",value:function(e,n){Kn(e,!0),Mu(n);var o=this.addHandler(Ee.TARGET,e,n);return this.store.dispatch(gu(o)),o}},{key:"containsHandler",value:function(e){return zu(this.dragSources,e)||zu(this.dropTargets,e)}},{key:"getSource",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;M(this.isSourceId(e),"Expected a valid source ID.");var o=n&&e===this.pinnedSourceId,i=o?this.pinnedSource:this.dragSources.get(e);return i}},{key:"getTarget",value:function(e){return M(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return M(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return M(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){var n=Uu(e);return n===Ee.SOURCE}},{key:"isTargetId",value:function(e){var n=Uu(e);return n===Ee.TARGET}},{key:"removeSource",value:function(e){var n=this;M(this.getSource(e),"Expected an existing source."),this.store.dispatch(vu(e)),Qn(function(){n.dragSources.delete(e),n.types.delete(e)})}},{key:"removeTarget",value:function(e){M(this.getTarget(e),"Expected an existing target."),this.store.dispatch(yu(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var n=this.getSource(e);M(n,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=n}},{key:"unpinSource",value:function(){M(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,n,o){var i=jh(e);return this.types.set(i,n),e===Ee.SOURCE?this.dragSources.set(i,o):e===Ee.TARGET&&this.dropTargets.set(i,o),i}}]),t}();function qu(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=Bh(n),i=new Du(o,new Gu(o)),a=new au(o,i),c=t(a,r,e);return a.receiveBackend(c),a}function Bh(t){var r=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Fi(xu,t&&r&&r({name:"dnd-core",instanceId:"dnd-core"}))}var Wh=["children"];function Uh(t,r){return Xh(t)||qh(t,r)||Gh(t,r)||zh()}function zh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gh(t,r){if(!!t){if(typeof t=="string")return Xu(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Xu(t,r)}}function Xu(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function qh(t,r){var e=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(e!=null){var n=[],o=!0,i=!1,a,c;try{for(e=e.call(t);!(o=(a=e.next()).done)&&(n.push(a.value),!(r&&n.length===r));o=!0);}catch(l){i=!0,c=l}finally{try{!o&&e.return!=null&&e.return()}finally{if(i)throw c}}return n}}function Xh(t){if(Array.isArray(t))return t}function $h(t,r){if(t==null)return{};var e=Yh(t,r),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],!(r.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(e[n]=t[n]))}return e}function Yh(t,r){if(t==null)return{};var e={},n=Object.keys(t),o,i;for(i=0;i<n.length;i++)o=n[i],!(r.indexOf(o)>=0)&&(e[o]=t[o]);return e}var $u=0,eo=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),Ku=(0,to.memo)(function(r){var e=r.children,n=$h(r,Wh),o=Kh(n),i=Uh(o,2),a=i[0],c=i[1];return(0,to.useEffect)(function(){if(c){var l=Zu();return++$u,function(){--$u===0&&(l[eo]=null)}}},[]),(0,Yu.jsx)(An.Provider,Object.assign({value:a},{children:e}),void 0)});function Kh(t){if("manager"in t){var r={dragDropManager:t.manager};return[r,!1]}var e=Zh(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[e,n]}function Zh(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Zu(),e=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=r;return o[eo]||(o[eo]={dragDropManager:qu(t,r,e,n)}),o[eo]}function Zu(){return window}s();var ji=T(R());function Jh(t,r){return rg(t)||tg(t,r)||eg(t,r)||Qh()}function Qh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eg(t,r){if(!!t){if(typeof t=="string")return Ju(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Ju(t,r)}}function Ju(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function tg(t,r){var e=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(e!=null){var n=[],o=!0,i=!1,a,c;try{for(e=e.call(t);!(o=(a=e.next()).done)&&(n.push(a.value),!(r&&n.length===r));o=!0);}catch(l){i=!0,c=l}finally{try{!o&&e.return!=null&&e.return()}finally{if(i)throw c}}return n}}function rg(t){if(Array.isArray(t))return t}function Qu(t){var r=Nc(),e=r.getMonitor(),n=Vc(e,t),o=Jh(n,2),i=o[0],a=o[1];return(0,ji.useEffect)(function(){return e.subscribeToOffsetChange(a)}),(0,ji.useEffect)(function(){return e.subscribeToStateChange(a)}),i}s();var ng=yn({key:"firestoreReacheable",default:!0,effects:[t=>{typeof window>"u"||fetch("https://firestore.googleapis.com/$discovery/rest").catch(()=>{t.setSelf(!1)})}]});function ef(){return Er(ng)}s();var tf=T(R());var og=De("app:events"),ig=t=>(t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent));function ag(){let t=document.cookie?document.cookie.split("; "):[],r={};for(let e=0;e<t.length;e++){let n=t[e].split("="),o=n.slice(1).join("=");try{let i=decodeURIComponent(n[0]);r[i]=ig(o)}catch(i){og.warning(`Couldn't parse cookie ${t[e]}. Error: `,i)}}return r}function rf(t,r){return tf.useEffect(()=>{sg(t,r)},[t.key,r]),null}async function sg(t,r){if(!t.integrations||!r)return;let e=await Vs(),n=ag(),o=window.location.href,i=document.referrer,a=window.navigator.userAgent;(await xc()).analytics.trackViewInSpaceById(t.key,{pageId:r,visitor:{anonymousId:e,cookies:n,userAgent:a},url:o,referrer:i})}s();var ir=yn({key:"mobileToCOpenedAtom",default:!1});s();var ro=T(R());function nf(t){var o,i;let r=ro.useContext(Yt),e=r.preview||r.mode!=="public-content"||!((o=t==null?void 0:t.intercom)!=null&&o.enabled)||(i=t==null?void 0:t.intercom)==null?void 0:i.appID,n=ol();return Ue(a=>{n&&e&&a.writeAsync({type:"script",src:`https://widget.intercom.io/widget/${e}`,onLoad:async()=>{window.Intercom&&window.Intercom("boot",{app_id:e})}})}),ro.useEffect(()=>()=>{!window.Intercom||(window.Intercom("shutdown"),window.Intercom=void 0)},[]),null}s();var _f=T(R());s();s();s();s();s();function cg(t,r){var e;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(e=lg(t))||r&&t&&typeof t.length=="number"){e&&(t=e);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,a=!1,c;return{s:function(){e=t[Symbol.iterator]()},n:function(){var u=e.next();return i=u.done,u},e:function(u){a=!0,c=u},f:function(){try{!i&&e.return!=null&&e.return()}finally{if(a)throw c}}}}function lg(t,r){if(!!t){if(typeof t=="string")return of(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return of(t,r)}}function of(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function ug(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Wi(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function no(t,r){var e=af(t,r,"get");return fg(t,e)}function fg(t,r){return r.get?r.get.call(t):r.value}function dg(t,r,e){var n=af(t,r,"set");return pg(t,n,e),e}function af(t,r,e){if(!r.has(t))throw new TypeError("attempted to "+e+" private field on non-instance");return r.get(t)}function pg(t,r,e){if(r.set)r.set.call(t,e);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=e}}var ar=new WeakMap,sf=function t(){var r=this;ug(this,t),ar.set(this,{writable:!0,value:void 0}),Wi(this,"register",function(e){no(r,ar).push(e)}),Wi(this,"unregister",function(e){for(var n;(n=no(r,ar).indexOf(e))!==-1;)no(r,ar).splice(n,1)}),Wi(this,"backendChanged",function(e){var n=cg(no(r,ar)),o;try{for(n.s();!(o=n.n()).done;){var i=o.value;i.backendChanged(e)}}catch(a){n.e(a)}finally{n.f()}}),dg(this,ar,[])};function mg(t){return yg(t)||vg(t)||gg(t)||hg()}function hg(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gg(t,r){if(!!t){if(typeof t=="string")return Gi(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Gi(t,r)}}function vg(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function yg(t){if(Array.isArray(t))return Gi(t)}function Gi(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function bg(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function rt(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function V(t,r){var e=ff(t,r,"get");return Sg(t,e)}function Sg(t,r){return r.get?r.get.call(t):r.value}function sr(t,r,e){var n=ff(t,r,"set");return wg(t,n,e),e}function ff(t,r,e){if(!r.has(t))throw new TypeError("attempted to "+e+" private field on non-instance");return r.get(t)}function wg(t,r,e){if(r.set)r.set.call(t,e);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=e}}var Ne=new WeakMap,oo=new WeakMap,Ve=new WeakMap,gt=new WeakMap,Dt=new WeakMap,cf=new WeakMap,lf=new WeakMap,uf=new WeakMap,Ui=new WeakMap,zi=new WeakMap,io=new WeakMap,qi=function t(r,e,n){var o=this;if(bg(this,t),Ne.set(this,{writable:!0,value:void 0}),oo.set(this,{writable:!0,value:void 0}),Ve.set(this,{writable:!0,value:void 0}),gt.set(this,{writable:!0,value:void 0}),Dt.set(this,{writable:!0,value:void 0}),cf.set(this,{writable:!0,value:function(a,c,l){var u,f;if(!l.backend)throw new Error("You must specify a 'backend' property in your Backend entry: ".concat(JSON.stringify(l)));var d=l.backend(a,c,l.options),p=l.id,g=!l.id&&d&&d.constructor;if(g&&(p=d.constructor.name),p)g&&console.warn(`Deprecation notice: You are using a pipeline which doesn't include backends' 'id'.
        This might be unsupported in the future, please specify 'id' explicitely for every backend.`);else throw new Error("You must specify an 'id' property in your Backend entry: ".concat(JSON.stringify(l),`
        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-5xx`));if(V(o,Ve)[p])throw new Error(`You must specify a unique 'id' property in your Backend entry:
        `.concat(JSON.stringify(l)," (conflicts with: ").concat(JSON.stringify(V(o,Ve)[p]),")"));return{id:p,instance:d,preview:(u=l.preview)!==null&&u!==void 0?u:!1,transition:l.transition,skipDispatchOnTransition:(f=l.skipDispatchOnTransition)!==null&&f!==void 0?f:!1}}}),rt(this,"setup",function(){if(!(typeof window>"u")){if(t.isSetUp)throw new Error("Cannot have two MultiBackends at the same time.");t.isSetUp=!0,V(o,lf).call(o,window),V(o,Ve)[V(o,Ne)].instance.setup()}}),rt(this,"teardown",function(){typeof window>"u"||(t.isSetUp=!1,V(o,uf).call(o,window),V(o,Ve)[V(o,Ne)].instance.teardown())}),rt(this,"connectDragSource",function(i,a,c){return V(o,io).call(o,"connectDragSource",i,a,c)}),rt(this,"connectDragPreview",function(i,a,c){return V(o,io).call(o,"connectDragPreview",i,a,c)}),rt(this,"connectDropTarget",function(i,a,c){return V(o,io).call(o,"connectDropTarget",i,a,c)}),rt(this,"profile",function(){return V(o,Ve)[V(o,Ne)].instance.profile()}),rt(this,"previewEnabled",function(){return V(o,Ve)[V(o,Ne)].preview}),rt(this,"previewsList",function(){return V(o,oo)}),rt(this,"backendsList",function(){return V(o,gt)}),lf.set(this,{writable:!0,value:function(a){V(o,gt).forEach(function(c){c.transition&&a.addEventListener(c.transition.event,V(o,Ui))})}}),uf.set(this,{writable:!0,value:function(a){V(o,gt).forEach(function(c){c.transition&&a.removeEventListener(c.transition.event,V(o,Ui))})}}),Ui.set(this,{writable:!0,value:function(a){var c=V(o,Ne);if(V(o,gt).some(function(d){return d.id!==V(o,Ne)&&d.transition&&d.transition.check(a)?(sr(o,Ne,d.id),!0):!1}),V(o,Ne)!==c){var l;V(o,Ve)[c].instance.teardown(),Object.keys(V(o,Dt)).forEach(function(d){var p,g=V(o,Dt)[d];g.unsubscribe(),g.unsubscribe=(p=V(o,zi)).call.apply(p,[o,g.func].concat(mg(g.args)))}),V(o,oo).backendChanged(o);var u=V(o,Ve)[V(o,Ne)];if(u.instance.setup(),u.skipDispatchOnTransition)return;var f=null;try{f=a.constructor(a.type,a)}catch(d){f=document.createEvent("Event"),f.initEvent(a.type,a.bubbles,a.cancelable)}(l=a.target)===null||l===void 0||l.dispatchEvent(f)}}}),zi.set(this,{writable:!0,value:function(a,c,l,u){return V(o,Ve)[V(o,Ne)].instance[a](c,l,u)}}),io.set(this,{writable:!0,value:function(a,c,l,u){var f="".concat(a,"_").concat(c),d=V(o,zi).call(o,a,c,l,u);return V(o,Dt)[f]={func:a,args:[c,l,u],unsubscribe:d},function(){V(o,Dt)[f].unsubscribe(),delete V(o,Dt)[f]}}}),!n||!n.backends||n.backends.length<1)throw new Error(`You must specify at least one Backend, if you are coming from 2.x.x (or don't understand this error)
        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-2xx`);sr(this,oo,new sf),sr(this,Ve,{}),sr(this,gt,[]),n.backends.forEach(function(i){var a=V(o,cf).call(o,r,e,i);V(o,Ve)[a.id]=a,V(o,gt).push(a)}),sr(this,Ne,V(this,gt)[0].id),sr(this,Dt,{})};rt(qi,"isSetUp",!1);var ao=function(r,e,n){return new qi(r,e,n)};s();var cr=function(r,e){return{event:r,check:e}};s();var Xi=cr("touchstart",function(t){var r=t;return r.touches!==null&&r.touches!==void 0}),Cg=cr("dragstart",function(t){return t.type.indexOf("drag")!==-1||t.type.indexOf("drop")!==-1}),Pg=cr("mousedown",function(t){return t.type.indexOf("touch")===-1&&t.type.indexOf("mouse")!==-1}),$i=cr("pointerdown",function(t){var r=t;return r.pointerType=="mouse"});s();var so=T(R());var df=(0,so.createContext)(null);s();var lo=T(R()),yf=T(om());s();s();var gf=T(R());s();var mf=T(R());s();var Yi=function(r,e){return{x:r.x-e.x,y:r.y-e.y}},Tg=function(r){var e=r.getInitialClientOffset(),n=r.getInitialSourceClientOffset();return e===null||n===null||e.x===void 0||e.y===void 0?{x:0,y:0}:Yi(e,n)},pf=function(r,e){var n=r.getClientOffset();if(n===null)return null;if(!e.current||!e.current.getBoundingClientRect)return Yi(n,Tg(r));var o=e.current.getBoundingClientRect(),i={x:o.width/2,y:o.height/2};return Yi(n,i)};var Rg=function(r){var e="translate(".concat(r.x,"px, ").concat(r.y,"px)");return{pointerEvents:"none",position:"fixed",top:0,left:0,transform:e,WebkitTransform:e}},co=function(){var r=(0,mf.useRef)(null),e=Qu(function(n){return{currentOffset:pf(n,r),isDragging:n.isDragging(),itemType:n.getItemType(),item:n.getItem(),monitor:n}});return!e.isDragging||e.currentOffset===null?{display:!1}:{display:!0,itemType:e.itemType,item:e.item,style:Rg(e.currentOffset),monitor:e.monitor,ref:r}};s();var hf=T(R()),Wr=(0,hf.createContext)(void 0);function Og(t,r){if(t==null)return{};var e=xg(t,r),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],!(r.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(e[n]=t[n]))}return e}function xg(t,r){if(t==null)return{};var e={},n=Object.keys(t),o,i;for(i=0;i<n.length;i++)o=n[i],!(r.indexOf(o)>=0)&&(e[o]=t[o]);return e}var Ki=function(r){var e=co();if(!e.display)return null;var n=e.display,o=Og(e,["display"]),i;return"children"in r&&typeof r.children=="function"?i=r.children(o):"children"in r?i=r.children:i=r.generator(o),gf.default.createElement(Wr.Provider,{value:o},i)};s();var lr=T(R());function _g(t,r){return Dg(t)||Ig(t,r)||kg(t,r)||Eg()}function Eg(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kg(t,r){if(!!t){if(typeof t=="string")return vf(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return vf(t,r)}}function vf(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function Ig(t,r){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var e=[],n=!0,o=!1,i=void 0;try{for(var a=t[Symbol.iterator](),c;!(n=(c=a.next()).done)&&(e.push(c.value),!(r&&e.length===r));n=!0);}catch(l){o=!0,i=l}finally{try{!n&&a.return!=null&&a.return()}finally{if(o)throw i}}return e}}function Dg(t){if(Array.isArray(t))return t}var Zi=function(){var r=(0,lr.useState)(!1),e=_g(r,2),n=e[0],o=e[1],i=(0,lr.useContext)(An);return(0,lr.useEffect)(function(){var a,c=i==null||(a=i.dragDropManager)===null||a===void 0?void 0:a.getBackend(),l={backendChanged:function(f){o(f.previewEnabled())}};return o(c.previewEnabled()),c.previewsList().register(l),function(){c.previewsList().unregister(l)}},[i,i.dragDropManager]),n};var Ag=function(r){var e=Zi(),n=(0,lo.useContext)(df);if(!e)return null;var o=lo.default.createElement(Ki,r);return n!==null?(0,yf.createPortal)(o,n):o};Ag.Context=Wr;s();s();s();var Lg=T(R());s();s();s();s();s();var at;(function(t){t.mouse="mouse",t.touch="touch",t.keyboard="keyboard"})(at||(at={}));s();var Ng={Left:1,Right:2,Center:4},Vg={Left:0,Center:1,Right:2};function uo(t){return t.button===void 0||t.button===Vg.Left}function bf(t){return t.buttons===void 0||(t.buttons&Ng.Left)===0}function fo(t){return!!t.targetTouches}s();var Fg=1;function Sf(t){var r=t.nodeType===Fg?t:t.parentElement;if(!!r){var e=r.getBoundingClientRect(),n=e.top,o=e.left;return{x:o,y:n}}}function Hg(t,r){if(t.targetTouches.length===1)return Ur(t.targetTouches[0]);if(r&&t.touches.length===1&&t.touches[0].target===r.target)return Ur(t.touches[0])}function Ur(t,r){return fo(t)?Hg(t,r):{x:t.clientX,y:t.clientY}}s();function wf(t,r,e,n){return Math.sqrt(Math.pow(Math.abs(e-t),2)+Math.pow(Math.abs(n-r),2))}function Cf(t,r,e,n,o){if(!o)return!1;for(var i=Math.atan2(n-r,e-t)*180/Math.PI+180,a=0;a<o.length;++a)if((o[a].start==null||i>=o[a].start)&&(o[a].end==null||i<=o[a].end))return!0;return!1}s();var Ji=function(){var t=!1;try{addEventListener("test",function(){},Object.defineProperty({},"passive",{get:function(){return t=!0,!0}}))}catch(r){}return t}();s();function jg(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Pf(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Bg(t,r,e){return r&&Pf(t.prototype,r),e&&Pf(t,e),t}function Tf(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}var Rf=function(){function t(r,e){jg(this,t),Tf(this,"args",void 0),Tf(this,"context",void 0),this.args=r,this.context=e}return Bg(t,[{key:"delay",get:function(){var e;return(e=this.args.delay)!==null&&e!==void 0?e:0}},{key:"scrollAngleRanges",get:function(){return this.args.scrollAngleRanges}},{key:"getDropTargetElementsAtPoint",get:function(){return this.args.getDropTargetElementsAtPoint}},{key:"ignoreContextMenu",get:function(){var e;return(e=this.args.ignoreContextMenu)!==null&&e!==void 0?e:!1}},{key:"enableHoverOutsideTarget",get:function(){var e;return(e=this.args.enableHoverOutsideTarget)!==null&&e!==void 0?e:!1}},{key:"enableKeyboardEvents",get:function(){var e;return(e=this.args.enableKeyboardEvents)!==null&&e!==void 0?e:!1}},{key:"enableMouseEvents",get:function(){var e;return(e=this.args.enableMouseEvents)!==null&&e!==void 0?e:!1}},{key:"enableTouchEvents",get:function(){var e;return(e=this.args.enableTouchEvents)!==null&&e!==void 0?e:!0}},{key:"touchSlop",get:function(){return this.args.touchSlop||0}},{key:"delayTouchStart",get:function(){var e,n,o,i;return(e=(n=(o=this.args)===null||o===void 0?void 0:o.delayTouchStart)!==null&&n!==void 0?n:(i=this.args)===null||i===void 0?void 0:i.delay)!==null&&e!==void 0?e:0}},{key:"delayMouseStart",get:function(){var e,n,o,i;return(e=(n=(o=this.args)===null||o===void 0?void 0:o.delayMouseStart)!==null&&n!==void 0?n:(i=this.args)===null||i===void 0?void 0:i.delay)!==null&&e!==void 0?e:0}},{key:"window",get:function(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}},{key:"document",get:function(){var e;if((e=this.context)!==null&&e!==void 0&&e.document)return this.context.document;if(this.window)return this.window.document}},{key:"rootElement",get:function(){var e;return((e=this.args)===null||e===void 0?void 0:e.rootElement)||this.document}}]),t}();var zr;function Wg(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Of(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ug(t,r,e){return r&&Of(t.prototype,r),e&&Of(t,e),t}function X(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}var Gr=(zr={},X(zr,at.mouse,{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"}),X(zr,at.touch,{start:"touchstart",move:"touchmove",end:"touchend"}),X(zr,at.keyboard,{keydown:"keydown"}),zr),Qi=function(){function t(r,e,n){var o=this;Wg(this,t),X(this,"options",void 0),X(this,"actions",void 0),X(this,"monitor",void 0),X(this,"sourceNodes",void 0),X(this,"sourcePreviewNodes",void 0),X(this,"sourcePreviewNodeOptions",void 0),X(this,"targetNodes",void 0),X(this,"_mouseClientOffset",void 0),X(this,"_isScrolling",void 0),X(this,"listenerTypes",void 0),X(this,"moveStartSourceIds",void 0),X(this,"waitingForDelay",void 0),X(this,"timeout",void 0),X(this,"dragOverTargetIds",void 0),X(this,"draggedSourceNode",void 0),X(this,"draggedSourceNodeRemovalObserver",void 0),X(this,"lastTargetTouchFallback",void 0),X(this,"getSourceClientOffset",function(i){var a=o.sourceNodes.get(i);return a&&Sf(a)}),X(this,"handleTopMoveStartCapture",function(i){!uo(i)||(o.moveStartSourceIds=[])}),X(this,"handleMoveStart",function(i){Array.isArray(o.moveStartSourceIds)&&o.moveStartSourceIds.unshift(i)}),X(this,"handleTopMoveStart",function(i){if(!!uo(i)){var a=Ur(i);a&&(fo(i)&&(o.lastTargetTouchFallback=i.targetTouches[0]),o._mouseClientOffset=a),o.waitingForDelay=!1}}),X(this,"handleTopMoveStartDelay",function(i){if(!!uo(i)){var a=i.type===Gr.touch.start?o.options.delayTouchStart:o.options.delayMouseStart;o.timeout=setTimeout(o.handleTopMoveStart.bind(o,i),a),o.waitingForDelay=!0}}),X(this,"handleTopMoveCapture",function(){o.dragOverTargetIds=[]}),X(this,"handleMove",function(i,a){o.dragOverTargetIds&&o.dragOverTargetIds.unshift(a)}),X(this,"handleTopMove",function(i){if(o.timeout&&clearTimeout(o.timeout),!(!o.document||o.waitingForDelay)){var a=o.moveStartSourceIds,c=o.dragOverTargetIds,l=o.options.enableHoverOutsideTarget,u=Ur(i,o.lastTargetTouchFallback);if(!!u){if(o._isScrolling||!o.monitor.isDragging()&&Cf(o._mouseClientOffset.x||0,o._mouseClientOffset.y||0,u.x,u.y,o.options.scrollAngleRanges)){o._isScrolling=!0;return}if(!o.monitor.isDragging()&&o._mouseClientOffset.hasOwnProperty("x")&&a&&wf(o._mouseClientOffset.x||0,o._mouseClientOffset.y||0,u.x,u.y)>(o.options.touchSlop?o.options.touchSlop:0)&&(o.moveStartSourceIds=void 0,o.actions.beginDrag(a,{clientOffset:o._mouseClientOffset,getSourceClientOffset:o.getSourceClientOffset,publishSource:!1})),!!o.monitor.isDragging()){var f=o.sourceNodes.get(o.monitor.getSourceId());o.installSourceNodeRemovalObserver(f),o.actions.publishDragSource(),i.cancelable&&i.preventDefault();var d=(c||[]).map(function(F){return o.targetNodes.get(F)}).filter(function(F){return!!F}),p=o.options.getDropTargetElementsAtPoint?o.options.getDropTargetElementsAtPoint(u.x,u.y,d):o.document.elementsFromPoint(u.x,u.y),g=[];for(var w in p)if(!!p.hasOwnProperty(w)){var m=p[w];for(g.push(m);m;)m=m.parentElement,m&&g.indexOf(m)===-1&&g.push(m)}var v=g.filter(function(F){return d.indexOf(F)>-1}).map(function(F){return o._getDropTargetId(F)}).filter(function(F){return!!F}).filter(function(F,E,A){return A.indexOf(F)===E});if(l)for(var b in o.targetNodes){var k=o.targetNodes.get(b);if(f&&k&&k.contains(f)&&v.indexOf(b)===-1){v.unshift(b);break}}v.reverse(),o.actions.hover(v,{clientOffset:u})}}}}),X(this,"_getDropTargetId",function(i){for(var a=o.targetNodes.keys(),c=a.next();c.done===!1;){var l=c.value;if(i===o.targetNodes.get(l))return l;c=a.next()}}),X(this,"handleTopMoveEndCapture",function(i){if(o._isScrolling=!1,o.lastTargetTouchFallback=void 0,!!bf(i)){if(!o.monitor.isDragging()||o.monitor.didDrop()){o.moveStartSourceIds=void 0;return}i.cancelable&&i.preventDefault(),o._mouseClientOffset={},o.uninstallSourceNodeRemovalObserver(),o.actions.drop(),o.actions.endDrag()}}),X(this,"handleCancelOnEscape",function(i){i.key==="Escape"&&o.monitor.isDragging()&&(o._mouseClientOffset={},o.uninstallSourceNodeRemovalObserver(),o.actions.endDrag())}),this.options=new Rf(n,e),this.actions=r.getActions(),this.monitor=r.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(at.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(at.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(at.keyboard)}return Ug(t,[{key:"profile",value:function(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((e=this.dragOverTargetIds)===null||e===void 0?void 0:e.length)||0}}},{key:"document",get:function(){return this.options.document}},{key:"setup",value:function(){var e=this.options.rootElement;!e||(M(!t.isSetUp,"Cannot have two Touch backends at the same time."),t.isSetUp=!0,this.addEventListener(e,"start",this.getTopMoveStartHandler()),this.addEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(e,"move",this.handleTopMove),this.addEventListener(e,"move",this.handleTopMoveCapture,!0),this.addEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(e,"keydown",this.handleCancelOnEscape,!0))}},{key:"teardown",value:function(){var e=this.options.rootElement;!e||(t.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(e,"start",this.handleTopMoveStart),this.removeEventListener(e,"move",this.handleTopMoveCapture,!0),this.removeEventListener(e,"move",this.handleTopMove),this.removeEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(e,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}},{key:"addEventListener",value:function(e,n,o,i){var a=Ji?{capture:i,passive:!1}:i;this.listenerTypes.forEach(function(c){var l=Gr[c][n];l&&e.addEventListener(l,o,a)})}},{key:"removeEventListener",value:function(e,n,o,i){var a=Ji?{capture:i,passive:!1}:i;this.listenerTypes.forEach(function(c){var l=Gr[c][n];l&&e.removeEventListener(l,o,a)})}},{key:"connectDragSource",value:function(e,n){var o=this,i=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,n),this.addEventListener(n,"start",i),function(){o.sourceNodes.delete(e),o.removeEventListener(n,"start",i)}}},{key:"connectDragPreview",value:function(e,n,o){var i=this;return this.sourcePreviewNodeOptions.set(e,o),this.sourcePreviewNodes.set(e,n),function(){i.sourcePreviewNodes.delete(e),i.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDropTarget",value:function(e,n){var o=this,i=this.options.rootElement;if(!this.document||!i)return function(){};var a=function(l){if(!(!o.document||!i||!o.monitor.isDragging())){var u;switch(l.type){case Gr.mouse.move:u={x:l.clientX,y:l.clientY};break;case Gr.touch.move:u={x:l.touches[0].clientX,y:l.touches[0].clientY};break}var f=u!=null?o.document.elementFromPoint(u.x,u.y):void 0,d=f&&n.contains(f);if(f===n||d)return o.handleMove(l,e)}};return this.addEventListener(this.document.body,"move",a),this.targetNodes.set(e,n),function(){o.document&&(o.targetNodes.delete(e),o.removeEventListener(o.document.body,"move",a))}}},{key:"getTopMoveStartHandler",value:function(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}},{key:"installSourceNodeRemovalObserver",value:function(e){var n=this;this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver(function(){e&&!e.parentElement&&(n.resurrectSourceNode(),n.uninstallSourceNodeRemovalObserver())}),!(!e||!e.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}},{key:"resurrectSourceNode",value:function(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}},{key:"uninstallSourceNodeRemovalObserver",value:function(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}}]),t}();X(Qi,"isSetUp",void 0);var xf=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Qi(r,e,n)};function Ef(t){return _f.createElement(Ku,{backend:ao,options:zg},t.children)}var zg={backends:[{id:"html5",backend:$c,transition:$i},{id:"touch",backend:xf,options:{enableMouseEvents:!0,delayMouseStart:100,delayTouchStart:250},transition:Xi}]};s();function kf(t,r,e=void 0){switch(r){case"light":case"dark":return{...t,color:r};case"none":return t;case"bold":return{...t,color:Bs(e||Tt.PRIMARY)};default:zt(r)}}var ea=1,ta={none:U.create({spaceHeader:t=>({borderBottomWidth:1,borderBottomColor:t.colors.border.main,backgroundColor:t.colors.background.main,...t.shadows.base,zIndex:1}),separator:{}}),light:U.create({spaceHeader:t=>({borderBottomWidth:1,borderBottomColor:t.colors.border.main,backgroundColor:t.colors.background.main,...t.shadows.pop,zIndex:1}),separator:t=>({width:ea,height:40,backgroundColor:t.colors.border.main})}),dark:U.create({spaceHeader:t=>({borderBottomWidth:1,borderBottomColor:t.colors.border.main,backgroundColor:t.colors.background.main,...t.shadows.base,zIndex:1}),separator:t=>({width:ea,height:40,backgroundColor:t.colors.border.main})}),bold:U.create({spaceHeader:t=>({borderBottomWidth:1,borderBottomColor:t.colors.primary.main,backgroundColor:t.colors.primary.main,...t.shadows.base,zIndex:1}),separator:t=>({width:ea,height:40,backgroundColor:t.colors.text.main})})};s();var po=T(R());function If(t){let{children:r,statusCode:e}=t,n=kc();return n.staticContext&&(n.staticContext.statusCode=e),po.createElement(po.Fragment,null,r)}s();var Df=T(R());K();function Af(t){return Df.createElement(ie,{...t})}s();var Pe=T(R());s();s();s();var rd=T(td(),1),{__extends:gx,__assign:At,__rest:na,__decorate:vx,__param:yx,__metadata:bx,__awaiter:Sx,__generator:wx,__exportStar:Cx,__createBinding:Px,__values:Tx,__read:Rx,__spread:Ox,__spreadArrays:nd,__spreadArray:xx,__await:_x,__asyncGenerator:Ex,__asyncDelegator:kx,__asyncValues:Ix,__makeTemplateObject:Dx,__importStar:Ax,__importDefault:Lx,__classPrivateFieldGet:Mx,__classPrivateFieldSet:Nx,__classPrivateFieldIn:Vx}=rd.default;var tn=T(R());s();var nt=T(R());s();var be=T(R());s();var Lt="right-scroll-bar-position",Mt="width-before-scroll-bar",oa="with-scroll-bars-hidden",ia="--removed-body-scroll-bar-size";s();s();function od(t,r){return typeof t=="function"?t(r):t&&(t.current=r),t}s();var id=T(R());function ad(t,r){var e=(0,id.useState)(function(){return{value:t,callback:r,facade:{get current(){return e.value},set current(n){var o=e.value;o!==n&&(e.value=n,e.callback(n,o))}}}})[0];return e.callback=r,e.facade}s();function qr(t,r){return ad(r||null,function(e){return t.forEach(function(n){return od(n,e)})})}s();s();s();function sd(t){return t}function cd(t,r){r===void 0&&(r=sd);var e=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return e.length?e[e.length-1]:t},useMedium:function(i){var a=r(i,n);return e.push(a),function(){e=e.filter(function(c){return c!==a})}},assignSyncMedium:function(i){for(n=!0;e.length;){var a=e;e=[],a.forEach(i)}e={push:function(c){return i(c)},filter:function(){return e}}},assignMedium:function(i){n=!0;var a=[];if(e.length){var c=e;e=[],c.forEach(i),a=e}var l=function(){var f=a;a=[],f.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),e={push:function(f){a.push(f),u()},filter:function(f){return a=a.filter(f),e}}}};return o}function Xr(t,r){return r===void 0&&(r=sd),cd(t,r)}function Nt(t){t===void 0&&(t={});var r=cd(null);return r.options=Ze({async:!0,ssr:!1},t),r}s();var ld=T(R()),ud=function(t){var r=t.sideCar,e=gn(t,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=r.read();if(!n)throw new Error("Sidecar medium not found");return ld.createElement(n,Ze({},e))};ud.isSideCarExport=!0;function Vt(t,r){return t.useMedium(r),ud}var vo=Nt();var aa=function(){},yo=be.forwardRef(function(t,r){var e=be.useRef(null),n=be.useState({onScrollCapture:aa,onWheelCapture:aa,onTouchMoveCapture:aa}),o=n[0],i=n[1],a=t.forwardProps,c=t.children,l=t.className,u=t.removeScrollBar,f=t.enabled,d=t.shards,p=t.sideCar,g=t.noIsolation,w=t.inert,m=t.allowPinchZoom,v=t.as,b=v===void 0?"div":v,k=gn(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),F=p,E=qr([e,r]),A=Ze(Ze({},k),o);return be.createElement(be.Fragment,null,f&&be.createElement(F,{sideCar:vo,removeScrollBar:u,shards:d,noIsolation:g,inert:w,setCallbacks:i,allowPinchZoom:!!m,lockRef:e}),a?be.cloneElement(be.Children.only(c),Ze(Ze({},A),{ref:E})):be.createElement(b,Ze({},A,{className:l,ref:E}),c))});yo.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yo.classNames={fullWidth:Mt,zeroRight:Lt};s();s();s();function fr(){return fr=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},fr.apply(this,arguments)}var J=T(R()),E_=T(ai());s();var $r="data-focus-lock",bo="data-focus-lock-disabled",fd="data-no-focus-lock",dd="data-autofocus-inside",pd="data-no-autofocus";var gd=T(R());s();var dr=T(R()),w_=T(ai()),pr={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},md=function(r){var e=r.children;return dr.createElement(dr.Fragment,null,dr.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:pr}),e,e&&dr.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:pr}))};md.propTypes={};md.defaultProps={children:null};s();var So=Xr({},function(t){var r=t.target,e=t.currentTarget;return{target:r,currentTarget:e}}),wo=Xr(),hd=Xr(),Co=Nt({async:!0});var qg=[],sa=J.forwardRef(function(r,e){var n,o=J.useState(),i=o[0],a=o[1],c=J.useRef(),l=J.useRef(!1),u=J.useRef(null),f=r.children,d=r.disabled,p=r.noFocusGuards,g=r.persistentFocus,w=r.crossFrame,m=r.autoFocus,v=r.allowTextSelection,b=r.group,k=r.className,F=r.whiteList,E=r.hasPositiveIndices,A=r.shards,we=A===void 0?qg:A,D=r.as,j=D===void 0?"div":D,ee=r.lockProps,Ce=ee===void 0?{}:ee,ge=r.sideCar,pe=r.returnFocus,bt=r.focusOptions,je=r.onActivation,Ut=r.onDeactivation,Zo=J.useState({}),Jo=Zo[0],Qo=J.useCallback(function(){u.current=u.current||document&&document.activeElement,c.current&&je&&je(c.current),l.current=!0},[je]),ei=J.useCallback(function(){l.current=!1,Ut&&Ut(c.current)},[Ut]);(0,gd.useEffect)(function(){d||(u.current=null)},[]);var ti=J.useCallback(function(Xe){var St=u.current;if(St&&St.focus){var y=typeof pe=="function"?pe(St):pe;if(y){var x=typeof y=="object"?y:void 0;u.current=null,Xe?Promise.resolve().then(function(){return St.focus(x)}):St.focus(x)}}},[pe]),un=J.useCallback(function(Xe){l.current&&So.useMedium(Xe)},[]),ri=wo.useMedium,ni=J.useCallback(function(Xe){c.current!==Xe&&(c.current=Xe,a(Xe))},[]),fn=fr((n={},n[bo]=d&&"disabled",n[$r]=b,n),Ce),xr=p!==!0,oi=xr&&p!=="tail",ii=qr([e,ni]);return J.createElement(J.Fragment,null,xr&&[J.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:d?-1:0,style:pr}),E?J.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:d?-1:1,style:pr}):null],!d&&J.createElement(ge,{id:Jo,sideCar:Co,observed:i,disabled:d,persistentFocus:g,crossFrame:w,autoFocus:m,whiteList:F,shards:we,onActivation:Qo,onDeactivation:ei,returnFocus:ti,focusOptions:bt}),J.createElement(j,fr({ref:ii},fn,{className:k,onBlur:ri,onFocus:un}),f),oi&&J.createElement("div",{"data-focus-guard":!0,tabIndex:d?-1:0,style:pr}))});sa.propTypes={};sa.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};var vd=sa;s();function ca(t){var r=window,e=r.setImmediate;typeof e<"u"?e(t):setTimeout(t,1)}var yd=vd;s();var Po=Nt(),To="data-focus-on-hidden";var bd=nt.forwardRef(function(t,r){var e=nt.useState(!1),n=e[0],o=e[1],i=t.children,a=t.autoFocus,c=t.shards,l=t.enabled,u=l===void 0?!0:l,f=t.scrollLock,d=f===void 0?!0:f,p=t.focusLock,g=p===void 0?!0:p,w=t.returnFocus,m=w===void 0?!0:w,v=t.inert,b=t.allowPinchZoom,k=t.sideCar,F=t.className,E=t.shouldIgnore,A=t.style,we=t.as,D=na(t,["children","autoFocus","shards","enabled","scrollLock","focusLock","returnFocus","inert","allowPinchZoom","sideCar","className","shouldIgnore","style","as"]),j=k,ee=n.onActivation,Ce=n.onDeactivation,ge=na(n,["onActivation","onDeactivation"]),pe=At(At({},ge),{sideCar:k,shards:c,allowPinchZoom:b,as:we,inert:v,style:A,enabled:u&&d});return nt.createElement(nt.Fragment,null,nt.createElement(yd,{ref:r,sideCar:k,disabled:!(n&&u&&g),returnFocus:m,autoFocus:a,shards:c,onActivation:ee,onDeactivation:Ce,className:F,whiteList:E,lockProps:pe,as:yo},i),u&&nt.createElement(j,At({},D,{sideCar:Po,setLockProps:o,shards:c})))});s();s();s();var Hd=T(R()),qk=T(ai());s();s();s();function Yr(t,r){return Yr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Yr(t,r)}function la(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,Yr(t,r)}s();function ua(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}var Ro=T(R());function Xg(t,r){function e(n){return n.displayName||n.name||"Component"}return function(o){var i=[],a;function c(){a=t(i.map(function(u){return u.props})),r(a)}var l=function(u){la(f,u);function f(){return u.apply(this,arguments)||this}f.peek=function(){return a};var d=f.prototype;return d.componentDidMount=function(){i.push(this),c()},d.componentDidUpdate=function(){c()},d.componentWillUnmount=function(){var g=i.indexOf(this);i.splice(g,1),c()},d.render=function(){return Ro.default.createElement(o,this.props)},f}(Ro.PureComponent);return ua(l,"displayName","SideEffect("+e(o)+")"),l}}var Sd=Xg;s();s();s();s();var Se=function(t){for(var r=Array(t.length),e=0;e<t.length;++e)r[e]=t[e];return r},Kr=function(t){return Array.isArray(t)?t:[t]};s();var $g=function(t){if(t.nodeType!==Node.ELEMENT_NODE)return!1;var r=window.getComputedStyle(t,null);return!r||!r.getPropertyValue?!1:r.getPropertyValue("display")==="none"||r.getPropertyValue("visibility")==="hidden"},wd=function(t){return t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.parentNode.host:t.parentNode},Cd=function(t){return t===document||t&&t.nodeType===Node.DOCUMENT_NODE},Yg=function(t,r){return!t||Cd(t)||!$g(t)&&r(wd(t))},fa=function(t,r){var e=t.get(r);if(e!==void 0)return e;var n=Yg(r,fa.bind(void 0,t));return t.set(r,n),n},Kg=function(t,r){return t&&!Cd(t)?Jg(t)?r(wd(t)):!1:!0},da=function(t,r){var e=t.get(r);if(e!==void 0)return e;var n=Kg(r,da.bind(void 0,t));return t.set(r,n),n},pa=function(t){return t.dataset},Zg=function(t){return t.tagName==="BUTTON"},Pd=function(t){return t.tagName==="INPUT"},ma=function(t){return Pd(t)&&t.type==="radio"},Td=function(t){return!((Pd(t)||Zg(t))&&(t.type==="hidden"||t.disabled))},Jg=function(t){var r=t.getAttribute(pd);return![!0,"true",""].includes(r)},Zr=function(t){var r;return Boolean(t&&((r=pa(t))===null||r===void 0?void 0:r.focusGuard))},mr=function(t){return!Zr(t)},Rd=function(t){return Boolean(t)};s();var Qg=function(t,r){var e=t.tabIndex-r.tabIndex,n=t.index-r.index;if(e){if(!t.tabIndex)return 1;if(!r.tabIndex)return-1}return e||n},ha=function(t,r,e){return Se(t).map(function(n,o){return{node:n,index:o,tabIndex:e&&n.tabIndex===-1?(n.dataset||{}).focusGuard?0:-1:n.tabIndex}}).filter(function(n){return!r||n.tabIndex>=0}).sort(Qg)};s();s();var Od=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"];var ga=Od.join(","),ev="".concat(ga,", [data-focus-guard]"),xd=function(t,r){var e;return Se(((e=t.shadowRoot)===null||e===void 0?void 0:e.children)||t.children).reduce(function(n,o){return n.concat(o.matches(r?ev:ga)?[o]:[],xd(o))},[])},Oo=function(t,r){return t.reduce(function(e,n){return e.concat(xd(n,r),n.parentNode?Se(n.parentNode.querySelectorAll(ga)).filter(function(o){return o===n}):[])},[])},_d=function(t){var r=t.querySelectorAll("[".concat(dd,"]"));return Se(r).map(function(e){return Oo([e])}).reduce(function(e,n){return e.concat(n)},[])};var va=function(t,r){return Se(t).filter(function(e){return fa(r,e)}).filter(function(e){return Td(e)})},ya=function(t,r){return r===void 0&&(r=new Map),Se(t).filter(function(e){return da(r,e)})},Jr=function(t,r,e){return ha(va(Oo(t,e),r),!0,e)},ba=function(t,r){return ha(va(Oo(t),r),!1)},Ed=function(t,r){return va(_d(t),r)},vt=function(t,r){return t.shadowRoot?vt(t.shadowRoot,r):Object.getPrototypeOf(t).contains!==void 0&&Object.getPrototypeOf(t).contains.call(t,r)?!0:Se(t.children).some(function(e){return vt(e,r)})};s();var tv=function(t){for(var r=new Set,e=t.length,n=0;n<e;n+=1)for(var o=n+1;o<e;o+=1){var i=t[n].compareDocumentPosition(t[o]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&r.add(o),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&r.add(n)}return t.filter(function(a,c){return!r.has(c)})},kd=function(t){return t.parentNode?kd(t.parentNode):t},hr=function(t){var r=Kr(t);return r.filter(Boolean).reduce(function(e,n){var o=n.getAttribute($r);return e.push.apply(e,o?tv(Se(kd(n).querySelectorAll("[".concat($r,'="').concat(o,'"]:not([').concat(bo,'="disabled"])')))):[n]),e},[])};s();var Id=function(t){return t.activeElement?t.activeElement.shadowRoot?Id(t.activeElement.shadowRoot):t.activeElement:void 0},gr=function(){return document.activeElement?document.activeElement.shadowRoot?Id(document.activeElement.shadowRoot):document.activeElement:void 0};var rv=function(t){return t===document.activeElement},nv=function(t){return Boolean(Se(t.querySelectorAll("iframe")).some(function(r){return rv(r)}))},xo=function(t){var r=document&&gr();return!r||r.dataset&&r.dataset.focusGuard?!1:hr(t).some(function(e){return vt(e,r)||nv(e)})};s();var Sa=function(){var t=document&&gr();return t?Se(document.querySelectorAll("[".concat(fd,"]"))).some(function(r){return vt(r,t)}):!1};s();s();s();var ov=function(t,r){return r.filter(ma).filter(function(e){return e.name===t.name}).filter(function(e){return e.checked})[0]||t},_o=function(t,r){return ma(t)&&t.name?ov(t,r):t},Dd=function(t){var r=new Set;return t.forEach(function(e){return r.add(_o(e,t))}),t.filter(function(e){return r.has(e)})};s();var wa=function(t){return t[0]&&t.length>1?_o(t[0],t):t[0]},Ca=function(t,r){return t.length>1?t.indexOf(_o(t[r],t)):r};var Pa="NEW_FOCUS",Ad=function(t,r,e,n){var o=t.length,i=t[0],a=t[o-1],c=Zr(e);if(!(e&&t.indexOf(e)>=0)){var l=e!==void 0?r.indexOf(e):-1,u=n?r.indexOf(n):l,f=n?t.indexOf(n):-1,d=l-u,p=r.indexOf(i),g=r.indexOf(a),w=Dd(r),m=e!==void 0?w.indexOf(e):-1,v=m-(n?w.indexOf(n):l),b=Ca(t,0),k=Ca(t,o-1);if(l===-1||f===-1)return Pa;if(!d&&f>=0)return f;if(l<=p&&c&&Math.abs(d)>1)return k;if(l>=g&&c&&Math.abs(d)>1)return b;if(d&&Math.abs(v)>1)return f;if(l<=p)return k;if(l>g)return b;if(d)return Math.abs(d)>1?f:(o+f+d)%o}};s();var iv=function(t){return function(r){var e,n=(e=pa(r))===null||e===void 0?void 0:e.autofocus;return r.autofocus||n!==void 0&&n!=="false"||t.indexOf(r)>=0}},Ld=function(t,r,e){var n=t.map(function(i){var a=i.node;return a}),o=ya(n.filter(iv(e)));return o&&o.length?wa(o):wa(ya(r))};s();var Ra=function(t,r){return r===void 0&&(r=[]),r.push(t),t.parentNode&&Ra(t.parentNode.host||t.parentNode,r),r},Ta=function(t,r){for(var e=Ra(t),n=Ra(r),o=0;o<e.length;o+=1){var i=e[o];if(n.indexOf(i)>=0)return i}return!1},Eo=function(t,r,e){var n=Kr(t),o=Kr(r),i=n[0],a=!1;return o.filter(Boolean).forEach(function(c){a=Ta(a||c,c)||a,e.filter(Boolean).forEach(function(l){var u=Ta(i,l);u&&(!a||vt(u,a)?a=u:a=Ta(u,a))})}),a},Md=function(t,r){return t.reduce(function(e,n){return e.concat(Ed(n,r))},[])};var av=function(t,r){var e=new Map;return r.forEach(function(n){return e.set(n.node,n)}),t.map(function(n){return e.get(n)}).filter(Rd)},Nd=function(t,r){var e=document&&gr(),n=hr(t).filter(mr),o=Eo(e||t,t,n),i=new Map,a=ba(n,i),c=Jr(n,i).filter(function(p){var g=p.node;return mr(g)});if(!(!c[0]&&(c=a,!c[0]))){var l=ba([o],i).map(function(p){var g=p.node;return g}),u=av(l,c),f=u.map(function(p){var g=p.node;return g}),d=Ad(f,l,e,r);return d===Pa?{node:Ld(a,f,Md(n,i))}:d===void 0?d:u[d]}};s();var Oa=function(t){var r=hr(t).filter(mr),e=Eo(t,t,r),n=new Map,o=Jr([e],n,!0),i=Jr(r,n).filter(function(a){var c=a.node;return mr(c)}).map(function(a){var c=a.node;return c});return o.map(function(a){var c=a.node,l=a.index;return{node:c,index:l,lockItem:i.indexOf(c)>=0,guard:Zr(c)}})};s();var sv=function(t,r){"focus"in t&&t.focus(r),"contentWindow"in t&&t.contentWindow&&t.contentWindow.focus()},xa=0,_a=!1,Vd=function(t,r,e){e===void 0&&(e={});var n=Nd(t,r);if(!_a&&n){if(xa>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),_a=!0,setTimeout(function(){_a=!1},1);return}xa++,sv(n.node,e.focusOptions),xa--}};var Ea=Vd;var cv=function(){return document&&document.activeElement===document.body},lv=function(){return cv()||Sa()},yr=null,vr=null,br=null,Qr=!1,uv=function(){return!0},fv=function(r){return(yr.whiteList||uv)(r)},dv=function(r,e){br={observerNode:r,portaledElement:e}},pv=function(r){return br&&br.portaledElement===r};function Fd(t,r,e,n){var o=null,i=t;do{var a=n[i];if(a.guard)a.node.dataset.focusAutoGuard&&(o=a);else if(a.lockItem){if(i!==t)return;o=null}else break}while((i+=e)!==r);o&&(o.node.tabIndex=0)}var mv=function(r){return r&&"current"in r?r.current:r},hv=function(r){return r?Boolean(Qr):Qr==="meanwhile"},gv=function t(r,e,n){return e&&(e.host===r&&(!e.activeElement||n.contains(e.activeElement))||e.parentNode&&t(r,e.parentNode,n))},vv=function(r,e){return e.some(function(n){return gv(r,n,n)})},ko=function(){var r=!1;if(yr){var e=yr,n=e.observed,o=e.persistentFocus,i=e.autoFocus,a=e.shards,c=e.crossFrame,l=e.focusOptions,u=n||br&&br.portaledElement,f=document&&document.activeElement;if(u){var d=[u].concat(a.map(mv).filter(Boolean));if((!f||fv(f))&&(o||hv(c)||!lv()||!vr&&i)&&(u&&!(xo(d)||f&&vv(f,d)||pv(f,u))&&(document&&!vr&&f&&!i?(f.blur&&f.blur(),document.body.focus()):(r=Ea(d,vr,{focusOptions:l}),br={})),Qr=!1,vr=document&&document.activeElement),document){var p=document&&document.activeElement,g=Oa(d),w=g.map(function(m){var v=m.node;return v}).indexOf(p);w>-1&&(g.filter(function(m){var v=m.guard,b=m.node;return v&&b.dataset.focusAutoGuard}).forEach(function(m){var v=m.node;return v.removeAttribute("tabIndex")}),Fd(w,g.length,1,g),Fd(w,-1,-1,g))}}}return r},jd=function(r){ko()&&r&&(r.stopPropagation(),r.preventDefault())},Io=function(){return ca(ko)},Bd=function(r){var e=r.target,n=r.currentTarget;n.contains(e)||dv(n,e)},yv=function(){return null},bv=function(r){var e=r.children;return Hd.createElement("div",{onBlur:Io,onFocus:Bd},e)};bv.propTypes={};var Wd=function(){Qr="just",setTimeout(function(){Qr="meanwhile"},0)},Sv=function(){document.addEventListener("focusin",jd),document.addEventListener("focusout",Io),window.addEventListener("blur",Wd)},wv=function(){document.removeEventListener("focusin",jd),document.removeEventListener("focusout",Io),window.removeEventListener("blur",Wd)};function Cv(t){return t.filter(function(r){var e=r.disabled;return!e})}function Pv(t){var r=t.slice(-1)[0];r&&!yr&&Sv();var e=yr,n=e&&r&&r.id===e.id;yr=r,e&&!n&&(e.onDeactivation(),t.filter(function(o){var i=o.id;return i===e.id}).length||e.returnFocus(!r)),r?(vr=null,(!n||e.observed!==r.observed)&&r.onActivation(),ko(!0),ca(ko)):(wv(),vr=null)}So.assignSyncMedium(Bd);wo.assignMedium(Io);hd.assignMedium(function(t){return t({moveFocusInside:Ea,focusInside:xo})});var Ud=Sd(Cv,Pv)(yv);var nI=Vt(Co,Ud);s();s();var Q=T(R());s();s();var Do=T(R());s();s();s();var qd=T(R());s();s();var zd;var Gd=function(){if(zd)return zd;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Tv(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var r=Gd();return r&&t.setAttribute("nonce",r),t}function Rv(t,r){t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}function Ov(t){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(t)}var ka=function(){var t=0,r=null;return{add:function(e){t==0&&(r=Tv())&&(Rv(r,e),Ov(r)),t++},remove:function(){t--,!t&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}};var Ia=function(){var t=ka();return function(r,e){qd.useEffect(function(){return t.add(r),function(){t.remove()}},[r&&e])}};var Ft=function(){var t=Ia(),r=function(e){var n=e.styles,o=e.dynamic;return t(n,o),null};return r};s();var xv={left:0,top:0,right:0,gap:0},Da=function(t){return parseInt(t||"",10)||0},_v=function(t){var r=window.getComputedStyle(document.body),e=r[t==="padding"?"paddingLeft":"marginLeft"],n=r[t==="padding"?"paddingTop":"marginTop"],o=r[t==="padding"?"paddingRight":"marginRight"];return[Da(e),Da(n),Da(o)]},Aa=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return xv;var r=_v(t),e=document.documentElement.clientWidth,n=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,n-e+r[2]-r[0])}};var Ev=Ft(),kv=function(t,r,e,n){var o=t.left,i=t.top,a=t.right,c=t.gap;return e===void 0&&(e="margin"),`
  .`.concat(oa,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(n,";"),e==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),e==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Lt,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Mt,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Lt," .").concat(Lt,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Mt," .").concat(Mt,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body {
    `).concat(ia,": ").concat(c,`px;
  }
`)},La=function(t){var r=t.noRelative,e=t.noImportant,n=t.gapMode,o=n===void 0?"margin":n,i=Do.useMemo(function(){return Aa(o)},[o]);return Do.createElement(Ev,{styles:kv(i,!r,o,e?"":"!important")})};s();var Ma=!1;if(typeof window<"u")try{en=Object.defineProperty({},"passive",{get:function(){return Ma=!0,!0}}),window.addEventListener("test",en,en),window.removeEventListener("test",en,en)}catch(t){Ma=!1}var en,Ht=Ma?{passive:!1}:!1;s();var Iv=function(t){return t.tagName==="TEXTAREA"},Xd=function(t,r){var e=window.getComputedStyle(t);return e[r]!=="hidden"&&!(e.overflowY===e.overflowX&&!Iv(t)&&e[r]==="visible")},Dv=function(t){return Xd(t,"overflowY")},Av=function(t){return Xd(t,"overflowX")},Na=function(t,r){var e=r;do{typeof ShadowRoot<"u"&&e instanceof ShadowRoot&&(e=e.host);var n=$d(t,e);if(n){var o=Yd(t,e),i=o[1],a=o[2];if(i>a)return!0}e=e.parentNode}while(e&&e!==document.body);return!1},Lv=function(t){var r=t.scrollTop,e=t.scrollHeight,n=t.clientHeight;return[r,e,n]},Mv=function(t){var r=t.scrollLeft,e=t.scrollWidth,n=t.clientWidth;return[r,e,n]},$d=function(t,r){return t==="v"?Dv(r):Av(r)},Yd=function(t,r){return t==="v"?Lv(r):Mv(r)},Nv=function(t,r){return t==="h"&&r==="rtl"?-1:1},Kd=function(t,r,e,n,o){var i=Nv(t,window.getComputedStyle(r).direction),a=i*n,c=e.target,l=r.contains(c),u=!1,f=a>0,d=0,p=0;do{var g=Yd(t,c),w=g[0],m=g[1],v=g[2],b=m-v-i*w;(w||b)&&$d(t,c)&&(d+=b,p+=w),c=c.parentNode}while(!l&&c!==document.body||l&&(r.contains(c)||r===c));return(f&&(o&&d===0||!o&&a>d)||!f&&(o&&p===0||!o&&-a>p))&&(u=!0),u};var Ao=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Zd=function(t){return[t.deltaX,t.deltaY]},Jd=function(t){return t&&"current"in t?t.current:t},Vv=function(t,r){return t[0]===r[0]&&t[1]===r[1]},Fv=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Hv=0,Sr=[];function Qd(t){var r=Q.useRef([]),e=Q.useRef([0,0]),n=Q.useRef(),o=Q.useState(Hv++)[0],i=Q.useState(function(){return Ft()})[0],a=Q.useRef(t);Q.useEffect(function(){a.current=t},[t]),Q.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var m=cs([t.lockRef.current],(t.shards||[]).map(Jd),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var c=Q.useCallback(function(m,v){if("touches"in m&&m.touches.length===2)return!a.current.allowPinchZoom;var b=Ao(m),k=e.current,F="deltaX"in m?m.deltaX:k[0]-b[0],E="deltaY"in m?m.deltaY:k[1]-b[1],A,we=m.target,D=Math.abs(F)>Math.abs(E)?"h":"v";if("touches"in m&&D==="h"&&we.type==="range")return!1;var j=Na(D,we);if(!j)return!0;if(j?A=D:(A=D==="v"?"h":"v",j=Na(D,we)),!j)return!1;if(!n.current&&"changedTouches"in m&&(F||E)&&(n.current=A),!A)return!0;var ee=n.current||A;return Kd(ee,v,m,ee==="h"?F:E,!0)},[]),l=Q.useCallback(function(m){var v=m;if(!(!Sr.length||Sr[Sr.length-1]!==i)){var b="deltaY"in v?Zd(v):Ao(v),k=r.current.filter(function(A){return A.name===v.type&&A.target===v.target&&Vv(A.delta,b)})[0];if(k&&k.should){v.cancelable&&v.preventDefault();return}if(!k){var F=(a.current.shards||[]).map(Jd).filter(Boolean).filter(function(A){return A.contains(v.target)}),E=F.length>0?c(v,F[0]):!a.current.noIsolation;E&&v.cancelable&&v.preventDefault()}}},[]),u=Q.useCallback(function(m,v,b,k){var F={name:m,delta:v,target:b,should:k};r.current.push(F),setTimeout(function(){r.current=r.current.filter(function(E){return E!==F})},1)},[]),f=Q.useCallback(function(m){e.current=Ao(m),n.current=void 0},[]),d=Q.useCallback(function(m){u(m.type,Zd(m),m.target,c(m,t.lockRef.current))},[]),p=Q.useCallback(function(m){u(m.type,Ao(m),m.target,c(m,t.lockRef.current))},[]);Q.useEffect(function(){return Sr.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Ht),document.addEventListener("touchmove",l,Ht),document.addEventListener("touchstart",f,Ht),function(){Sr=Sr.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,Ht),document.removeEventListener("touchmove",l,Ht),document.removeEventListener("touchstart",f,Ht)}},[]);var g=t.removeScrollBar,w=t.inert;return Q.createElement(Q.Fragment,null,w?Q.createElement(i,{styles:Fv(o)}):null,g?Q.createElement(La,{gapMode:"margin"}):null)}var $I=Vt(vo,Qd);s();var No=T(R());s();var jv=function(t){if(typeof document>"u")return null;var r=Array.isArray(t)?t[0]:t;return r.ownerDocument.body},wr=new WeakMap,Lo=new WeakMap,Mo={},Va=0,Bv=function(t,r,e,n){var o=Array.isArray(t)?t:[t];Mo[e]||(Mo[e]=new WeakMap);var i=Mo[e],a=[],c=new Set,l=new Set(o),u=function(d){!d||c.has(d)||(c.add(d),u(d.parentNode))};o.forEach(u);var f=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(p){if(c.has(p))f(p);else{var g=p.getAttribute(n),w=g!==null&&g!=="false",m=(wr.get(p)||0)+1,v=(i.get(p)||0)+1;wr.set(p,m),i.set(p,v),a.push(p),m===1&&w&&Lo.set(p,!0),v===1&&p.setAttribute(e,"true"),w||p.setAttribute(n,"true")}})};return f(r),c.clear(),Va++,function(){a.forEach(function(d){var p=wr.get(d)-1,g=i.get(d)-1;wr.set(d,p),i.set(d,g),p||(Lo.has(d)||d.removeAttribute(n),Lo.delete(d)),g||d.removeAttribute(e)}),Va--,Va||(wr=new WeakMap,wr=new WeakMap,Lo=new WeakMap,Mo={})}},ep=function(t,r,e){e===void 0&&(e="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),o=r||jv(t);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live]"))),Bv(n,o,e,"aria-hidden")):function(){return null}};s();var tp=T(R());var Wv=Ft(),Uv=`
 [`+To+`] {
   pointer-events: none !important;
 }
`,rp=function(){return tp.createElement(Wv,{styles:Uv})};var yt=T(R()),np=function(t){return"current"in t?t.current:t};function op(t){var r=t.setLockProps,e=t.onEscapeKey,n=t.onClickOutside,o=t.shards,i=t.onActivation,a=t.onDeactivation,c=t.noIsolation,l=(0,yt.useState)(void 0),u=l[0],f=l[1],d=(0,yt.useRef)(null),p=(0,yt.useRef)(0);return No.useEffect(function(){var g=function(b){b.defaultPrevented||(b.code==="Escape"||b.key==="Escape"||b.keyCode===27)&&e&&e(b)},w=function(b){b.defaultPrevented||b.target===d.current||b instanceof MouseEvent&&b.button!==0||o&&o.map(np).some(function(k){return k&&k.contains(b.target)||k===b.target})||n&&n(b)},m=function(b){w(b),p.current=b.touches.length},v=function(b){p.current=b.touches.length};if(u)return document.addEventListener("keydown",g),document.addEventListener("mousedown",w),document.addEventListener("touchstart",m),document.addEventListener("touchend",v),function(){document.removeEventListener("keydown",g),document.removeEventListener("mousedown",w),document.removeEventListener("touchstart",m),document.removeEventListener("touchend",v)}},[u,n,e]),(0,yt.useEffect)(function(){if(u)return i&&i(u),function(){a&&a()}},[!!u]),(0,yt.useEffect)(function(){var g=function(){return null},w=!1,m=function(b){c||(g=ep(nd([b],(o||[]).map(np)),document.body,To)),f(function(){return b})},v=function(){g(),w||f(null)};return r({onMouseDown:function(b){d.current=b.target},onTouchStart:function(b){d.current=b.target},onActivation:m,onDeactivation:v}),function(){w=!0,r(!1)}},[]),No.createElement(rp,null)}var ip=Vt(Po,op);var zv=function(t){return tn.createElement(ip,At({},t))},Fa=tn.forwardRef(function(t,r){return tn.createElement(bd,At({},t,{ref:r,sideCar:zv}))});K();var vp=T(gp());function yp(t){let r=Pe.useRef(null),[e,n]=Je(Xc),{medias:o,currentIndex:i}=e,a=()=>{n({medias:[],currentIndex:0})},c=()=>{n(f=>({...f,currentIndex:Math.max(f.currentIndex-1,0)}))},l=()=>{n(f=>({...f,currentIndex:Math.min(f.currentIndex+1,f.medias.length-1)}))},u=f=>{n(d=>({...d,currentIndex:f}))};return Cn({opened:o.length>0,closeOnClick:!1,closeOnOutsideClick:!1,closeOnScroll:!1,closeOnEsc:!0,onClose:a},r),In(o.length?{Left:()=>c(),Right:()=>l()}:{},"all",[n,!o.length]),o.length?Pe.createElement(ut,{ref:r},Pe.createElement(Fa,null,Pe.createElement(P,{style:Cr.imagesZoonPortal},Pe.createElement(vp.default,{imageUrls:o.map(f=>({url:f.url})),index:i,renderIndicator:f=>Pe.createElement(P,{style:Cr.indactor},Pe.createElement(P,{style:Cr.indicatorElement}),Pe.createElement(P,{style:[Cr.indicatorElement,S.alignCenter,S.justifyContentCenter]},Pe.createElement(ie,{style:Cr.indicatorText},`${f}/${o.length}`)),Pe.createElement(P,{style:[Cr.indicatorElement,S.alignEnd,S.justifyContentCenter]},Pe.createElement(ce,{icon:q.X,defaultTextStyle:{color:Tt.WHITE},onPress:()=>a()}))),renderArrowLeft:()=>Pe.createElement(ce,{icon:q.ChevronLeft,defaultTextStyle:{color:Tt.WHITE},onPress:()=>c()}),renderArrowRight:()=>Pe.createElement(ce,{icon:q.ChevronRight,defaultTextStyle:{color:Tt.WHITE},onPress:()=>l()}),onChange:f=>u(f),onCancel:()=>a(),enableSwipeDown:!0})))):null}var Cr=Re.create({imagesZoonPortal:{position:"absolute",top:0,left:0,right:0,bottom:0},indactor:{height:48,position:"absolute",left:0,top:0,right:0,display:"flex",flexDirection:"row",zIndex:20},indicatorElement:{flex:1},indicatorText:{color:Tt.WHITE}});s();var qa=T(R());function bp(t){let{active:r=!0,interactive:e=!1,size:n,rating:o}=t,[,i]=I(ay),a=iy[o];return qa.createElement(le.View,{style:[i.ratingIcon,{width:n,height:n,borderRadius:n}],inactiveStyle:r?i[o]:i.inactiveButton,activeStyle:e?i[o]:null},qa.createElement(a.Child,{size:.75*n,activeStyle:e?i.activeIcon:null,style:r&&i.activeIcon}))}var iy={["ok"]:le.createInteractiveComponent(q.FeedbackOk),["good"]:le.createInteractiveComponent(q.FeedbackGood),["bad"]:le.createInteractiveComponent(q.FeedbackBad)},ay=U.create({ratingIcon:{borderRadius:_.BUTTON_S,alignItems:"center",justifyContent:"center"},inactiveButton:t=>({backgroundColor:t.colors.background.mid,color:t.colors.text.mid}),activeIcon:t=>({color:t.colors.primary.textInside}),["ok"]:t=>({backgroundColor:t.colors.warning.main}),["good"]:t=>({backgroundColor:t.colors.success.main}),["bad"]:t=>({backgroundColor:t.colors.danger.main})});s();var ae=T(R());K();var sy=De("app:crash");function nn(t){let{children:r}=t,e=ae.useCallback((n,o,i)=>{sy.emergency(`An error occured during rendering:

`,n,`

The error is located at:
`,o),Gt({type:"crash",crashType:Xa(n),sentryEvent:i})},[]);return ae.createElement(ds,{fallback:n=>ae.createElement(cy,{...n}),onError:e,beforeCapture:fy},r)}function cy(t){let{eventId:r,error:e}=t,[,n]=I(dy),o=()=>{fs({eventId:r})},i=()=>{window.location.reload()};ae.useEffect(()=>{let c=document.querySelector(".gitbook-splashscreen");c==null||c.remove()},[]);let a=()=>{switch(Xa(e)){case"network-crash":return ae.createElement(uy,{onReload:i,...t});case"crash":default:return ae.createElement(ly,{onShareFeedback:o,onReload:i,...t})}};return ae.createElement(P,{style:[n.background]},a())}function ly(t){let r=fe(),{onReload:e,onShareFeedback:n}=t;return ae.createElement(Dr,{title:r("something_wrong"),action:ae.createElement(ae.Fragment,null,ae.createElement(ce,{kind:"primary",size:"medium",onPress:e,style:h.Margin.smallRight},r("reload")),ae.createElement(ce,{kind:"secondary",size:"medium",onPress:n},r("let_us_know")))},r("we_have_been_notified"))}function uy(t){let{onReload:r}=t,[,e]=I(re),n=fe(),o=()=>{window.open("https://docs.gitbook.com/resources/firewall-safelist","_blank")};return ae.createElement(Dr,{title:n("connection_lost"),icon:ae.createElement(q.CloudOff,{size:_.ICON_S,style:e.text}),action:ae.createElement(ae.Fragment,null,ae.createElement(ce,{kind:"primary",size:"medium",onPress:r,style:h.Margin.smallRight},n("reload")),ae.createElement(ce,{size:"medium",icon:q.Link,onPress:o},n("network_troubleshooting")))},n("device_offline"))}function fy(t,r){switch(Xa(r)){case"network-crash":t.setTag("error_category","network-crash");break;case"crash":default:t.setTag("error_category","react-crash")}}function Xa(t){return t.name==="FirebaseError"&&t.code==="unavailable"?"network-crash":"crash"}var dy=U.create({background:t=>({backgroundColor:t.colors.background.main,minHeight:"100vh"})});s();var wp=T(R());s();var Sp=T(R());function $a(t){let[r,{close:e,setQuery:n}]=ft(),o=fc(),i=Ys(1e3);return mc(a=>{if(!a||!!a.position){typeof r<"u"&&(i.cancel(),e());return}a.query.text!==r&&i(()=>n(a.query.text))}),Sp.useEffect(()=>{if(typeof r<"u"&&!o.opened){o.open(),o.typeQuery(r);return}},[o,r]),null}s();var ke=T(R());s();var z=T(R());K();s();var Te=T(R());K();var{TOC_DESKTOP_WIDTH:py}=Dn,my=L.createResponsiveComponent(Ye),hy=le.createInteractiveComponent(my),Ya=py-h.large-h.large;function Wo(t){let{space:r,collection:e,mobileStyle:n,desktopStyle:o}=t,[,i]=I(re),{getNavigationLinkProps:a}=Kt(),c=(e?(e==null?void 0:e.publishedTitle)||(e==null?void 0:e.title):r.publishedTitle||r.title)||ct,l=c.length>14,u=l?2:1,f=e?e.logoURL:r.logoURL;return Te.createElement(hy,{style:[S.directionRow,S.alignCenter],mobileStyle:n,desktopStyle:o,...a({screen:{space:r.key,page:""}}),testID:"public.headerHomeLink"},f?Te.createElement(L.View,{style:[S.flex1,S.directionRow,S.alignCenter,Bo.headerDesktop],mobileStyle:Bo.logoMobile,desktopStyle:Bo.logoDesktop},Te.createElement(L.View,{desktopStyle:"visible",mobileStyle:"hidden"},Te.createElement(Di,{src:Ar(f,{height:40,fit:"contain"}),bestHeight:40,maxWidth:Ya})),Te.createElement(L.View,{desktopStyle:"hidden",mobileStyle:"visible"},Te.createElement(Di,{src:Ar(f,{height:30,fit:"contain"}),bestHeight:30,maxWidth:Ya}))):Te.createElement(P,{style:[Bo.headerDesktop,S.flex1,S.directionRow,S.justifyContentStart,S.alignCenter]},Te.createElement(P,null,Te.createElement(L.View,{mobileStyle:"hidden",desktopStyle:"visible"},Te.createElement(yi,{content:e||r,renderFor:"public-content",size:_.BUTTON_L,style:[h.Margin.mediumRight]})),Te.createElement(L.View,{mobileStyle:"visible",desktopStyle:"hidden"},Te.createElement(yi,{content:e||r,renderFor:"public-content",size:_.ICON_XL,style:[h.Margin.mediumRight]}))),Te.createElement(L.Text,{mobileStyle:[i.Heading3],desktopStyle:[l?i.Heading3:i.Heading2]},Te.createElement(le.Text.Child,{numberOfLines:u,ellipsizeMode:"tail",accessibilityLabel:c,inactiveStyle:i.text,activeStyle:t.space.headerTheme==="bold"?i.textStandout:i.primary},c))))}var Bo=Re.create({logoMobile:{height:30},logoDesktop:{height:40},headerDesktop:{maxWidth:Ya}});var{PAGE_BODY_DESKTOP_H_PADDING:gy,getPageOutlineWrapperWidth:vy,getToCWrapperDesktopWidth:yy}=Dn,by=_.XL,Sy=_.L,wy=L.createResponsiveComponent(ce);function Tp(t){let{space:r}=t,e=bs(r.headerTheme,r.themeMode),n=Gs(),o=z.useMemo(()=>kf(n,e,r.primaryColor),[e,r.primaryColor,n]);return z.createElement(Xt,{theme:o},r.headerTheme==="none"?z.createElement(L.View,{desktopStyle:"hidden",mobileStyle:"visible"},z.createElement(Cp,{...t,headerTheme:e})):z.createElement(Cp,{...t,headerTheme:e}))}function Cp(t){let{space:r,headerTheme:e,revision:n,collection:o,currentPageLayout:i}=t,[,a]=I(ta[e]),c=$t(Je(ir),z.useState(!1)),l=i==="docs",u=i==="landing";return z.createElement(L.View,{desktopStyle:on.desktopHeight,mobileStyle:on.mobileHeight,style:[a.spaceHeader,S.directionRow,S.alignCenter]},l?z.createElement(wy,{desktopStyle:"hidden",mobileStyle:"visible",icon:q.Menu,style:h.Margin.smallRight,kind:"grey",rounded:!0,title:c.opened?"Hide Table of Content":"Show Table of Content",onPress:c.toggle}):null,z.createElement(Wo,{space:r,collection:o,mobileStyle:[on.autoWidth,h.Padding.noneHorizontal,S.justifyContentStart,l?null:h.Margin.smallLeft],desktopStyle:[{width:yy()},h.Padding.largeHorizontal,S.justifyContentEnd]}),l?z.createElement(Pp,{headerTheme:e,direction:"Left"}):null,z.createElement(Py,{space:r,revision:n}),u?null:z.createElement(Pp,{headerTheme:e,direction:"Right"}),z.createElement(Cy,{headerTheme:e}))}function Pp(t){let[,r]=I(ta[t.headerTheme]);return z.createElement(L.View,{style:[r.separator,{[`margin${t.direction}`]:-1}],mobileStyle:"hidden",desktopStyle:"visible"})}function Cy(t){let[,{open:r}]=ft(),e=fe();return z.createElement(L.View,{mobileStyle:on.autoWidth,desktopStyle:{width:vy()}},z.createElement(P,{style:[S.flex1,S.alignStart,h.Padding.largeLeft,h.Padding.smallRight]},z.createElement(L.View,{mobileStyle:"hidden",desktopStyle:"visible"},z.createElement(ce,{icon:q.SearchPublic,size:"medium",kind:t.headerTheme==="bold"?"default_bold":"default",alignItems:"start",onPress:r,style:[h.Padding.noneHorizontal]},e("search"))),z.createElement(L.View,{mobileStyle:"visible",desktopStyle:"hidden"},z.createElement(ce,{icon:q.SearchPublic,size:"medium",kind:"default",alignItems:"start",onPress:r,style:[h.Padding.noneHorizontal]}))))}function Py(t){let{space:r}=t;return z.createElement(z.Fragment,null,z.createElement(L.View,{style:[S.directionRow,S.alignCenter,S.flex1],tabletStyle:"visible",desktopStyle:"hidden"}),z.createElement(L.View,{style:[S.directionRow,S.alignCenter,S.flex1],tabletStyle:"hidden",desktopStyle:on.headerLinks},(r.headerLinks||[]).map(e=>e.title?z.createElement(z.Suspense,{fallback:null,key:e.title},z.createElement(Ty,{title:e.title,contentRef:e.to,...t})):null)))}function Ty(t){let{contentRef:r,space:e,revision:n}=t,o=Ln(r,{space:e.key,revision:n.key});return z.createElement(xn,{url:o.href,onPress:i=>{i.nativeEvent.metaKey||i.nativeEvent.ctrlKey||(i.preventDefault(),o.open())},kind:t.space.headerTheme==="bold"?"bold":"default",sameWebTab:!1,style:[h.Padding.mediumHorizontal,mi.Body,mi.Medium],numberOfLines:2,ellipsizeMode:"tail",accessibilityLabel:t.title},t.title)}var on=Re.create({autoWidth:{width:"auto"},headerLinks:{paddingHorizontal:gy-h.medium},mobileHeight:{height:Sy},desktopHeight:{height:by}});s();var Ka=T(R());function Uo(t){let{children:r,ssrRequestPath:e,ssrRouterContext:n}=t;return n?Ka.createElement(Fl,{location:e,context:n},r):Ka.createElement(Ii,null,r)}s();var zo=T(R());function Rp(t="https://policies.gitbook.com/privacy/cookies",r=!1){let e=On(),n=fe();zo.useEffect(()=>{if(!r)return;let o=!1;if(Sn()!==null)return;let i=e.notify({title:n("cookies"),details:n("cookie_prompt",zo.createElement(xn,{url:t},n("cookie_policy"))),timeout:0,icon:q.Cookies,actions:[{label:n("reject_all"),onPress:()=>{o=!0,pi(!1),i()}}],onClose:()=>{o||pi(!0)}})},[])}s();var de=T(R());s();var Oe=T(R());K();s();var ze=T(R());K();function Op(t){let{space:r,revision:e,page:n,analyticsContext:o}=t,i=Ns(),[,a]=I(re),c=fe(),[{result:l,error:u}]=Uc([bi(r.key,n.key,i)]);if(u)return null;let f=d=>{d!==(l==null?void 0:l.rating)&&(Gt({...o,type:"public_content_page_feedback_post",rating:d}),gs(p=>{nl(p,{space:r.key,page:n.key,revision:e.key,visitorId:i,rating:d,previousRating:l==null?void 0:l.rating})}))};return ze.createElement(P,{style:[S.directionRow,S.alignCenter]},ze.createElement(P,null,ze.createElement(ie,{style:[a.Heading4,a.textMuted]},c("was_it_helpful"))),ze.createElement(P,{style:[S.directionRow,S.alignCenter]},ze.createElement(Za,{tooltip:c("poor_content"),active:(l==null?void 0:l.rating)==="bad",rating:"bad",onPress:f}),ze.createElement(Za,{tooltip:c("ok_content"),active:(l==null?void 0:l.rating)==="ok",rating:"ok",onPress:f}),ze.createElement(Za,{tooltip:c("excellent_content"),active:(l==null?void 0:l.rating)==="good",rating:"good",onPress:f})))}function Za(t){let{active:r,tooltip:e,rating:n,onPress:o}=t;return ze.createElement(wc,{tooltip:e},(i,a)=>ze.createElement(Ye,{ref:a,onPress:()=>o(n),style:[h.Margin.smallLeft],accessibilityLabel:e,...i.events},ze.createElement(bp,{active:r,interactive:!0,rating:n,size:_.BUTTON_S})))}s();var Ge=T(R());K();var xp=T(Ol());var Ja=40,Ry=le.createInteractiveComponent(tc);function Pr(t){return Ge.createElement(Ot,null,Ge.createElement(Oy,{...t}))}function Oy(t){let{space:r,floating:e}=t,[n,o]=I(xy),[,i]=I(re),a=fe(),c=r.organization?Ts(r.organization):null,[l]=zc([c]),u=new URLSearchParams({utm_source:"content",utm_medium:"trademark",utm_campaign:r.key,...l?{"powered-by":l.title}:{}}),f=`https://${Ke.homepage.domain}/?${u.toString()}`,d=()=>{Gt(bn(r,{type:"public_content_click_trademark"}))};return Ge.createElement(P,{style:e&&o.floatingWrapper},e?Ge.createElement(xp.default,{colors:[`${n.colors.background.mid}00`,n.colors.background.mid],style:o.floatingTopGradient}):null,Ge.createElement(P,{style:e&&[h.Padding.mediumHorizontal,h.Padding.mediumBottom,o.floatingBackground]},Ge.createElement(le.TouchableOpacity,{style:[S.directionRow,S.alignCenter,...e?[o.trademarkFloating,h.Padding.smallVertical,h.Padding.mediumHorizontal]:[o.tradeMarkDefault]],activeStyle:i.primary,onPress:d,href:f,target:"_blank"},Ge.createElement(Ry,{size:Ja,style:i.textMuted,activeStyle:i.primary}),Ge.createElement(P,{style:[S.flex1,h.Padding.mediumLeft]},Ge.createElement(le.Text.Child,{style:[i.Label,i.textMuted],activeStyle:i.primary},a("powered_by",Ge.createElement(Af,{style:i.Bold},"GitBook")))))))}var xy=U.create({floatingWrapper:{position:"absolute",bottom:0,zIndex:1,width:"100%"},floatingTopGradient:{height:h.medium},floatingBackground:t=>({backgroundColor:t.colors.background.mid}),tradeMarkDefault:t=>({backgroundColor:"transparent"}),trademarkFloating:t=>({backgroundColor:t.colors.background.standout,borderRadius:_.RADIUS_M})});function _p(t){let{space:r,revision:e,page:n,analyticsContext:o}=t,[,i]=I(re),[,a]=I(_y),c=fe(),l=vs(n.edits),u=Ct(n),f=!!l,d=r.hasPublicFeedback,p=!r.hideTrademark&&(u==="editorial"||u==="landing");if(!f&&!d)return null;let g=Oe.createElement(el,null,Oe.createElement(Oe.Suspense,{fallback:null},Oe.createElement(Op,{space:r,revision:e,page:n,analyticsContext:o})));return Oe.createElement(P,{style:[h.Padding.largeTop,h.Margin.largeTop,a.footer]},Oe.createElement(L.View,{tabletStyle:S.directionColumn,desktopStyle:S.directionRow,style:[S.alignCenter,S.justifySpaceBetween]},f?Oe.createElement(L.View,{tabletStyle:h.Margin.mediumBottom,style:p?[]:[S.flex1]},Oe.createElement(ie,{style:[i.textMuted,i.Label]},c("last_modified",Oe.createElement(hc,{value:l.updatedAt.toDate(),onlyDate:!1})))):null,p?Oe.createElement(Pr,{space:r,floating:!1}):null,d?Oe.createElement(L.View,{tabletStyle:p?"hidden":"visible",desktopStyle:"visible"},g):null),p&&d?Oe.createElement(L.View,{tabletStyle:"visible",desktopStyle:"hidden",style:[S.directionRow,S.flex1,S.justifyContentCenter,h.Margin.largeTop]},g):null)}var _y=U.create({footer:t=>({borderTopColor:t.colors.border.mid,borderTopWidth:1})});s();var Tr=T(R());s();var qe=T(R());K();s();var Ey=750,ky=h.xxlarge,Ep=Ey+2*ky,Go=300,Iy=220;function kp(t=0){return t+Go+Ep+Iy}function Ip(t){let r=`(100vw - ${Ep}px) / 2 - ${t||0}px`;return`max(${Go}px, calc(${r}))`}s();var an=T(R());K();s();var ve=T(R());K();s();var Fe=T(R());K();var Dy=L.createResponsiveComponent(le.TouchableOpacity),Ay=le.createInteractiveComponent(L.View),Dp=Fe.forwardRef(function(r,e){let{leftIcon:n,icon:o,rightIcon:i,kind:a="primary",children:c,button:l,active:u=!1,onPress:f,textStyle:d,href:p}=r,g=le.useInteractiveState(),[,w]=I(Ly),[,m]=I(re),v=a==="primary"?m.textMid:m.textMuted,b=u?m.primary:v;return Fe.createElement(f?Dy:Ay,{ref:e,...g.events,style:[w.tocMenuItem,h.Padding.mediumHorizontal,u&&w.tocMenuItemActive],hoverStyle:f&&!u?w.tocMenuItemHovered:null,mobileStyle:w.tocMenuItemMobile,desktopStyle:w.tocMenuItemDesktop,onPress:f,href:p&&f?p:void 0},n?Fe.createElement(P,{style:[h.Margin.mediumRight]},Fe.createElement(n,{size:_.ICON_M,style:[b,d]})):null,o?Fe.createElement(P,{style:[h.Margin.mediumRight]},Fe.createElement(o,{size:_.ICON_M,style:[b,d]})):null,Fe.createElement(ie,{style:[S.flex1,h.Padding.smallVertical,a==="group"?m.Heading4:m.Label,b,d]},c),l?Fe.createElement(P,{style:[S.directionRow,S.alignCenter]},l):null,i?Fe.createElement(P,{style:w.tocMenuItemRightIcon},Fe.createElement(i,{size:_.ICON_M,style:m.textMuted})):null)}),Ly=U.create({tocMenuItem:{flexDirection:"row",alignItems:"center",borderColor:"transparent",borderWidth:1,minHeight:_.S},tocMenuItemMobile:{borderRightWidth:1},tocMenuItemDesktop:{borderRightWidth:0},tocMenuItemHovered:t=>({backgroundColor:t.colors.background.standout}),tocMenuItemActive:t=>({backgroundColor:t.colors.background.main,borderColor:t.colors.border.main}),tocMenuItemRightIcon:{marginLeft:h.small,marginRight:(_.S-_.ICON_M)/2}});function Qa(t){return ve.createElement(ve.Suspense,{fallback:ve.createElement(Ap,{...t})},ve.createElement(My,{...t}))}function My(t){let{revision:r,treePage:e}=t,{page:n}=e,o=Ln(n.kind==="link"?n.ref:void 0,{space:r.space,revision:r.key});return ve.createElement(Ap,{...t,contentRef:o})}function Ap(t){let{revision:r,treePage:e,parent:n,currentPage:o,contentRef:i}=t,{page:a}=e,{getNavigationHref:c,navigateToPage:l}=Yc(),u=o?o.key:null,f=u===a.key,d=!!u&&Cs(r,a.key,u),[p,g]=ve.useState(d),[,w]=I(Ny),m=v=>{v.isDefaultPrevented()||v.nativeEvent.metaKey||v.nativeEvent.ctrlKey||(v.preventDefault(),a.kind==="sheet"?l(r,a.key):a.kind==="link"&&(i==null||i.open()))};return ve.useEffect(()=>{d&&g(!0)},[d]),ve.createElement(P,{style:[a.kind==="group"&&h.Margin.mediumVertical]},ve.createElement(Dp,{kind:a.kind==="group"?"group":!n||n.kind==="group"?"primary":"secondary",icon:a.emoji?wn(Rn,{code:a.emoji}):void 0,rightIcon:a.kind==="link"?i?i.secondaryIcon:lt:void 0,active:f,onPress:a.kind==="group"?void 0:m,href:(()=>a.kind==="link"?i==null?void 0:i.href:c(r,a.key))(),button:e.pages.length>0&&a.kind==="sheet"?ve.createElement(ce,{size:"small",icon:p?q.ChevronDown:q.ChevronRight,onPress:v=>{v.preventDefault(),g(!p)}}):null},a.title),(p||a.kind==="group")&&e.pages.length>0?ve.createElement(P,{style:[w.tocItemChildren,a.kind==="group"&&h.Margin.noneLeft]},e.pages.map((v,b)=>ve.createElement(Qa,{key:v.renderKey,...t,treePage:v,isLastPage:b===e.pages.length-1,parent:a})),a.kind==="group"?null:ve.createElement(P,{style:w.tocItemChildrenLine})):null)}var Ny=U.create({tocItemChildren:{position:"relative",marginLeft:h.medium},tocItemChildrenLine:t=>({position:"absolute",top:0,bottom:0,left:0,width:1,backgroundColor:t.colors.border.main})});function qo(t){let{showingTrademark:r,revision:e}=t,n=an.useMemo(()=>Ps(e.pages,e.rootPages),[e]);return an.createElement(mn,{style:S.flex1,contentContainerStyle:[h.Padding.mediumVertical,r?Vy.scrollviewWithTrademark:null]},n.map((o,i)=>an.createElement(Qa,{key:o.renderKey,...t,treePage:o,isLastPage:i===n.length-1})))}var Vy=Re.create({scrollviewWithTrademark:{paddingBottom:h.medium+Ja+2*h.medium}});s();var W=T(R());K();function Xo(t){let{space:r,collection:e,collectionSpaces:n,currentPage:o,revision:i}=t,a=[W.createElement(Fy,{key:"mobile-closing-bar"})];return r.headerTheme==="none"&&a.push(W.createElement(Hy,{space:r,collection:e,key:"space-header"})),n&&(e==null?void 0:e.publishingType)==="variants"&&a.push(W.createElement(jy,{key:"variant-switch",currentVariant:r,collection:e,variants:n,revision:i,currentPage:o})),W.createElement(W.Fragment,null,a)}function Fy(){let[,t]=I($o),r=$t(Je(ir),W.useState(!1));return W.createElement(L.View,{style:[t.mobileClosingBar,S.justifyContentEnd,S.directionRow],mobileStyle:"visible",desktopStyle:"hidden"},W.createElement(ce,{icon:q.X,size:"large",kind:"default",onPress:()=>r.closeMobile(),style:[S.alignSelfCenter,h.Padding.smallHorizontal]}))}function Hy(t){let{space:r,collection:e}=t,[,n]=I($o),[,{open:o}]=ft();return W.createElement(L.View,{style:[n.spaceTitleWrapper,S.justifyContentCenter,S.directionRow],mobileStyle:"hidden",desktopStyle:"visible"},W.createElement(Wo,{space:r,collection:e,desktopStyle:S.flex1}),W.createElement(ce,{icon:q.SearchPublic,size:"large",kind:"default",alignItems:"start",onPress:o,style:[S.alignSelfCenter,h.Margin.smallHorizontal]}))}function jy(t){let{currentVariant:r,collection:e,variants:n,currentPage:o,revision:i}=t,[,a]=I($o),[c,l]=W.useState(!1),u=W.useCallback(()=>{l(f=>!f)},[l]);return W.createElement(W.Fragment,null,W.createElement(ce,{rightIcon:c?q.ChevronDown:q.ChevronRight,icon:q.Variants,onPress:u,alignItems:"start",style:[h.Margin.smallVertical,h.Padding.mediumHorizontal]},W.createElement(hi,null,r.publishedTitle||r.title||ct)),W.createElement(P,{style:a.separator}),c?W.createElement(W.Fragment,null,W.createElement(W.Suspense,{fallback:W.createElement(Qe,{size:"small"})},W.createElement(mn,{style:a.variantScrollView},n.map(f=>W.createElement(By,{key:f.key,selected:f.key===r.key,main:f.key===e.primarySpace,variant:f,currentPage:o,revision:i,onPress:()=>{l(!1)}})))),W.createElement(P,{style:[a.separator,h.Margin.largeTop]})):null)}function By(t){let{variant:r,selected:e,main:n,currentPage:o,revision:i,onPress:a}=t,c=fe(),{getNavigationLinkProps:l}=Kt(),[,u]=I(re),[,f]=I($o),d=W.useMemo(()=>o?Pt(i,o.key):"",[o]);return W.createElement(le.TouchableOpacity,{style:[f.tab,e&&f.selectedTab],activeStyle:f.hoverTab,...l({screen:{space:r.key,page:d}},a)},W.createElement(P,{style:[S.flex1]},W.createElement(hi,{style:[u.textMid,u.Label]},r.publishedTitle||r.title||ct)),n?W.createElement(P,{style:h.Margin.smallLeft},W.createElement(ie,{style:[f.mainBadge,u.textMuted]},c("main"))):null)}var $o=U.create({separator:t=>({height:1,backgroundColor:t.colors.border.main}),selectedTab:t=>({borderLeftColor:t.colors.primary.main,borderLeftWidth:2}),hoverTab:t=>({backgroundColor:t.colors.background.standout}),tab:{width:"100%",flexDirection:"row",justifyContent:"center",alignItems:"center",outlineStyle:"none",borderWidth:0,borderColor:"transparent",borderLeftWidth:2,height:_.BUTTON_M,lineHeight:_.BUTTON_M,borderRadius:0,paddingHorizontal:h.medium},mainBadge:{fontFamily:Fs,fontSize:Hs.xxsmall,lineHeight:_.BUTTON_M,...js.Bold,textTransform:"uppercase",letterSpacing:1},spaceTitleWrapper:t=>({height:_.L,borderBottomWidth:1,borderBottomColor:t.colors.border.main}),mobileClosingBar:t=>({height:_.L,borderBottomWidth:1,borderBottomColor:t.colors.border.main,backgroundColor:t.colors.background.main,...t.shadows.base}),variantScrollView:{flexGrow:0,flexShrink:1,height:"fit-content"}});function Lp(t){let{space:r}=t,[,e]=I(Wy),{desktopSidebarWidth:n}=qe.useContext(Ac),o=qe.useMemo(()=>({[kp(n)]:"visible"}),[n]),i=!r.hideTrademark;return qe.createElement(L.View,{testID:"page.desktopTableOfContents",mobileStyle:"hidden",desktopStyle:"visible",customBreakpointsStyles:o,style:[e.topcDesktopWrapper,S.directionRow,{width:Ip(n)},S.justifyContentEnd]},qe.createElement(P,{style:[e.tocDesktop,S.directionColumn]},qe.createElement(P,{style:[S.flex1,h.Padding.largeLeft]},qe.createElement(Xo,{...t}),qe.createElement(qo,{...t,showingTrademark:i})),i?qe.createElement(Pr,{floating:!0,space:r}):null))}var Wy=U.create({topcDesktopWrapper:t=>({borderRightWidth:1,borderRightColor:t.colors.border.main,backgroundColor:t.colors.background.mid}),tocDesktop:{width:Go}});s();var xe=T(R());K();var Uy=L.createResponsiveComponent(wt.View),zy=L.createResponsiveComponent(wt.createAnimatedComponent(Ye));function Np(t){let{currentPage:r,space:e}=t,n=$t(Je(ir),xe.useState(!1)),{sidebarMobileLeft:o,showOverlay:i}=Rc(n),[a,c]=I(Gy);xe.useEffect(()=>{n.close()},[r==null?void 0:r.key]);let l=!e.hideTrademark;return xe.createElement(ut,null,xe.createElement(Uy,{style:[c.sidebar,{left:o}],mobileStyle:"visible",desktopStyle:"hidden"},xe.createElement(P,{style:[S.directionColumn,S.flex1]},xe.createElement(P,{style:S.flex1},xe.createElement(Xo,{...t}),xe.createElement(P,{style:[h.Padding.mediumLeft,S.flex1,c.sidebarWrapper]},xe.createElement(qo,{...t,showingTrademark:l}))),l?xe.createElement(Pr,{floating:!0,space:e}):null)),xe.createElement(zy,{style:[c.screenOverlay,{backgroundColor:o.interpolate({inputRange:[-_n.MOBILE_WIDTH,0],outputRange:[a.colors.backdrop.transparent,a.colors.backdrop.background]})}],mobileStyle:i?"visible":"hidden",desktopStyle:"hidden",onPress:n.closeMobile}))}var Mp=10,Gy=U.create({sidebar:t=>({backgroundColor:t.colors.background.mid,width:_n.MOBILE_WIDTH,maxWidth:"100%",flexDirection:"row",position:"absolute",top:0,bottom:0,zIndex:Mp}),sidebarWrapper:t=>({borderRightWidth:1,borderRightColor:t.colors.border.main}),sidebarCloseButton:{position:"absolute",width:_.BUTTON_M,height:_.BUTTON_M,top:(_.M-_.BUTTON_M)/2,left:_n.MOBILE_WIDTH+_.BUTTON_M/2},screenOverlay:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:Mp-1}});function Vp(t){return Tr.createElement(Tr.Fragment,null,Tr.createElement(Lp,{...t}),Tr.createElement(Np,{...t}))}function Fp(t){var v;let{space:r,revision:e,screen:n,analyticsContext:o,collection:i,collectionSpaces:a,assetHostname:c,screenUpdate:l,currentPage:u}=t,f=fe(),[d,p]=I(qy);if(jl(r),Ue(b=>{b.writeAsync([{type:"meta",name:"description",content:u&&"description"in u?u.description:""},{type:"meta",name:"og:description",content:u&&"description"in u?u.description:""},{type:"meta",name:"og:image",content:r.socialPreviewURL?Ar(r.socialPreviewURL,{height:640,width:1280,fit:"contain"}):$y(r,e,u)},{type:"meta",name:"twitter:card",content:"summary_large_image"}]),r.visibility==="in-collection"?(b.setTitle(u?u.title:f("page_not_found"),(i==null?void 0:i.publishedTitle)||(i==null?void 0:i.title)||ct),b.writeAsync([{type:"meta",name:"robots",content:(i==null?void 0:i.visibility)!=="public"?"noindex, nofollow":"index"}])):(b.setTitle(u?u.title:f("page_not_found"),r.publishedTitle||r.title||ct),b.writeAsync([{type:"meta",name:"robots",content:r.visibility!=="public"?"noindex, nofollow":"index"}]))}),jc(u?Ms(r,u,{screen:"space",visibility:r.visibility,pageLayout:Ct(u)}):null,[r.key,u==null?void 0:u.key]),rf(r,(v=u==null?void 0:u.key)!=null?v:null),!u&&n.page){let[b]=Bc([tl(r.key,n.page)]);if(b&&e.pages[b.page])return de.default.createElement(Kc,{to:Pt(e,b.page)})}let g=Ct(u),w=g==="docs",m=g==="docs"||g==="editorial";return de.default.createElement(de.default.Fragment,null,l?de.default.createElement(Hc,{to:{screen:l}}):null,de.default.createElement(Yy,{space:i||r,assetHostname:c}),de.default.createElement(L.View,{style:[S.flex1],mobileStyle:S.directionColumn,desktopStyle:S.directionRow},w?de.default.createElement(Vp,{space:r,revision:e,currentPage:(u==null?void 0:u.kind)==="sheet"?u:null,analyticsContext:o,collection:i,collectionSpaces:a}):null,de.default.createElement(qt,{style:[p.spacePageBody],backgroundColor:d.colors.background.main},de.default.createElement(de.default.Suspense,{fallback:de.default.createElement(Qe,{size:"large"})},u&&u.kind==="sheet"?de.default.createElement(Lc,{key:Xy(n,e,u),space:r,changeRequest:void 0,revision:e,page:u,readOnly:!0,withComments:!1,withExpandedComments:!1,withToC:w,withOutline:m,analyticsContext:o,footer:de.default.createElement(_p,{space:r,revision:e,page:u,analyticsContext:o})}):de.default.createElement(If,{statusCode:404},de.default.createElement(Dr,{title:f("page_not_found"),action:de.default.createElement(Fc,{kind:"secondary",size:"medium",to:{screen:{type:"space",space:r.key,page:""}}},f("back_to_home"))},f("page_not_found_long")))))))}var qy=U.create({spacePageBody:{flex:1}});function Xy(t,r,e){let n=t.space;return n+=`/${t.changeRequest||"main"}`,n+=`/${r.conflicts?"conflicts":"normal"}`,n+=`/${e.key}`,t.diff&&(n+="/diff"),t.revision&&(n+="/revision"),n}function $y(t,r,e){let n=e&&r.rootPages[0]!==e.key?`/page/${e.key}`:"",o=`color=${encodeURIComponent(t.primaryColor||"")}&logo=${encodeURIComponent(di(t.logoURL||t.iconURL||""))}&theme=${encodeURIComponent(t.headerTheme||"")}`;return`https://${Ke.firebase.authDomain}/share/space/thumbnail/${t.key}${n}.png?${o}`}function Yy(t){let{space:r,assetHostname:e}=t,n=ks(r,"public-content"),[o]=I(),[i,a]=de.default.useState(n.iconURL||(n.emoji?`${e}${Es(n.emoji)}`:null));return de.default.useEffect(()=>{if(i)return;let c=192,l=document.createElement("canvas"),u=l.getContext("2d");if(!u)return;l.width=c,l.height=c,u.fillStyle=o.colors.background.main,u.fillRect(0,0,c,c);let f=.7;u.fillStyle=o.colors.text.main,u.font=`400 ${c*f}px gitbook-content-font`,u.textAlign="center",u.fillText(r.title.slice(0,1),c/2,c*(1-f)/2),a(l.toDataURL("image/png"))},[r.title,a]),Ue(c=>{c.writeAsync([{type:"link",rel:"icon",href:i?di(i):`${e}/public/images/icon-512.png`}])}),null}s();var He=T(R());s();var sn=T(R());s();function Hp(t,r){let{navigate:e}=Kt();dc(()=>[Ky(t,r,e)],[t,r,e])}function Ky(t,r,e){return{key:"search.content",commands:n=>{if(!n.query.text)return[];let o=vi.read({query:n.query.text,types:["pages","sections"],hitsPerPage:30,analyticsTags:[{type:"space",space:t.key}]});return Zy(r,o).map(({page:i,result:a,sections:c})=>{let l=i.emoji?wn(Rn,{code:i.emoji}):void 0;return[{key:i.key,icon:l,title:i.title,subtitle:ws(r,i.key).filter(u=>u.key!==i.key).map(u=>u.title).join(" \u203A "),trigger:()=>{var u;e({screen:{type:"space",space:r.space,page:Pt(r,i.key),hash:a||(u=c[0])==null?void 0:u.anchor,query:void 0}})}},...c.map(u=>({key:u.objectID,icon:l,title:void 0,subtitle:u.title,body:u.body.split(`
`).filter(Boolean).slice(0,5),trigger:()=>{e({screen:{type:"space",space:r.space,page:Pt(r,i.key),hash:u.anchor,query:void 0}})}}))]}).flat().filter(ui)}}}function Zy(t,r){let e=new Map;return r.forEach(n=>{if(n.index!=="pages"&&n.index!=="sections")return null;let o=t.pages[n.object.page];if(!o)return null;let i=e.get(o.key)||{sections:[],score:0};n.index==="sections"?(i.sections.push(n.object),i.score+=1):(i.result=n.object,i.score+=3),e.set(o.key,i)}),Array.from(e.entries()).map(([n,{score:o,sections:i,result:a}])=>{let c=t.pages[n];return c?{page:c,score:o,sections:i,result:a}:null}).filter(ui).sort((n,o)=>o.score-n.score)}function jp(t){let{space:r,revision:e}=t,n=fe(),[,{open:o}]=ft(),i=zs();return Hp(r,e),In({[Dc.PALETTE_OPEN]:()=>{o()},"/":()=>{o()}},["all"],[]),pc({search:n("search_placeholder"),variants:{color:i.color}}),sn.createElement(sn.Fragment,null,sn.createElement($a,null))}s();var Or=T(R());var Rr=new Map;typeof window<"u"&&(window.GitBook=window.GitBook||{addEventListener:(t,r)=>{Rr.has(t)||Rr.set(t,[]),Rr.get(t).push(r)},removeEventListener:(t,r)=>{if(!Rr.has(t))return;let e=Rr.get(t),n=e.indexOf(r);n!==-1&&e.splice(n,1)}});function Bp(t,...r){let e=Rr.get(t);!e||e.forEach(n=>{n(...r)})}function Wp(t){if(Or.useContext(Yt).mode!=="public-content")throw new Error("useInjectIntegrationsScripts can only be used in public-content mode");let e=Or.useMemo(()=>Object.keys(t.integrations||{}).map(n=>({type:"script",defer:!0,src:As({integration:n,installation:Is(n,Ds(t)),space:t.key},"script")})),[t]);Ue(n=>{n.writeAsync(e)}),Or.useEffect(()=>(Bp("load"),()=>{Bp("unload")}),[t.key])}function Yo(t){let{space:r,assetHostname:e,collection:n,collectionSpaces:o}=t,{screen:i}=kn(),a=qc({space:r.key,revision:(i.type==="space"?i.revision:null)||r.revision});if(!a)throw new Error("Revision not found");nf(r),Wp(r);let c=He.useMemo(()=>bn(r,{}),[r.key,r.organization,r.collection]);if(i.type!=="space"||i.space!==r.key)throw new Error("screen should be the space we render");He.useEffect(()=>{if(!!r.searchKey)return Gc(r.searchKey)},[r.searchKey]),Ue(d=>{d.write({type:"font",font:r.font||"Inter",fontFamilyName:"gitbook-content-font"}),i.revision&&d.write({type:"meta",name:"robots",content:"noindex"})}),Rp(r.privacyPolicyURL,Ai(r));let[l,u]=Mc(a,i),f=Ct(u);return He.createElement(He.Fragment,null,He.createElement(Tp,{space:r,revision:a,collection:n,currentPageLayout:f}),He.createElement(Fp,{space:r,revision:a,screen:i,analyticsContext:c,collection:n,collectionSpaces:o,assetHostname:e,currentPage:u,screenUpdate:l}),He.createElement(jp,{space:r,revision:a}),He.createElement(yp,null))}s();var es=T(R());s();s();function Wt(t,r){return t.split(r).slice(1).join(r)}function cn(t){return t?t.endsWith("/")?t:`${t}/`:""}function Up(t){return r=>{let e=`/${cn(t.basePath)}`;switch(r.type){case"back_office":case"account":case"error_notfound":case"org_invite":case"org_join":case"org_settings":case"quickstart":case"root":case"join":case"account_verification":case"integrations":case"import":case"template":case"welcome":case"discover":case"contentkit_builder":throw new Error(`Cannot navigate to ${r.type} on public content`);case"home":{if(r.organization){let o=_t.read({type:"organization",organization:r.organization});e=_r(o);break}throw new Error("Cannot navigate to home without an org on public content")}case"user":{let o=_t.read({type:"user",user:r.user});e=_r(o);break}case"collection":{let o=_t.read({type:"collection",collection:r.collection});e=_r(o);break}case"space":{let o=_t.read({type:"space",space:r.space});o.hostname===t.hostname&&(!t.basePath||o.pathname.startsWith(t.basePath))?(t.shareLink&&(e+=cn(t.shareLink)),o.pathname!==t.basePath&&(t.basePath?e+=cn(Wt(o.pathname,cn(t.basePath))):e+=cn(o.pathname))):e=_r(o),e+=Jy(r);break}case"legacy_space":case"legacy_account":throw new Error("Cannot navigate to legacy urls");default:zt(r)}let n;if(typeof r.query=="string"){let o=new URLSearchParams;o.set("q",r.query),n=`?${o.toString()}`}return{pathname:e,hash:r.hash,search:n}}}function Jy(t){let r="";return t.revision&&(r+=`~/revisions/${t.revision}/`),r+=`${t.page[0]==="/"?t.page.slice(1):t.page}`,t.sideSheet&&(r+=`${r[r.length-1]==="/"?"":"/"}~/${t.sideSheet}`),r}s();var Qy=ss==="test";function zp(t,r,e,n=[]){return o=>{let i=o.pathname;t.basePath?i=Wt(i,t.basePath):t.hostname&&i.indexOf(`/${t.hostname}/`)!==-1&&Qy&&(i=Wt(i,t.hostname)),t.shareLink&&(i=Wt(i,t.shareLink));let a=r;if(!a){let f=n.find(d=>i.startsWith(`/v/${d.path}/`)||i===`/v/${d.path}`);f&&(a=f.key,i=Wt(i,`/v/${f.path}`))}if(a||(a=e==null?void 0:e.primarySpace),!a)throw new Error("cannot find current space");let c={type:"space",space:a,page:""};eb(c,Rs(i)),o.hash&&(c.hash=o.hash.replace(/^#/,""));let u=new URLSearchParams(o.search).get("q");return typeof u=="string"&&(c.query=u),c}}function eb(t,r){Os(r,[{path:`/~/revisions/:revision/:page${fi}`,onMatch:e=>{Object.assign(t,{page:e.params.page,revision:e.params.revision})}},{path:"/~/revisions/:revision",onMatch:e=>{Object.assign(t,{revision:e.params.revision,page:""})}},{path:`/:page${fi}`,onMatch:e=>{Object.assign(t,{page:e.params.page,diff:!1})}},{path:"/",onMatch:e=>{Object.assign(t,{diff:!1,page:""})}}])}function Ko(t,r,e,n){let o=ef(),i=(0,es.useMemo)(()=>zp(t,r,e,n),[t.hostname,t.basePath,t.shareLink,r,e,n]),a=(0,es.useMemo)(()=>Up(t),[t.hostname,t.basePath,t.shareLink]);return{forceHardNavigation:!o,getNavigationScreenFromLocation:i,getLocationForNavigationScreen:a}}function Gp(t){let{space:r,ssrRequestPath:e,ssrRouterContext:n,basePath:o,hostname:i,customToken:a,shareLink:c,assetHostname:l,preview:u=!1}=t,f=Ko({hostname:i,basePath:o,shareLink:c},r.key);return ke.createElement(Lr,{mode:"public-content",preview:u,locale:r.language},ke.createElement(Ot,{primaryColor:r.primaryColor},ke.createElement(nn,null,ke.createElement(Uo,{ssrRequestPath:e,ssrRouterContext:n},ke.createElement(En,{persist:!1,...f},ke.createElement(ke.Suspense,{fallback:ke.createElement(Qe,{size:"large"})},ke.createElement(zn,null,a&&typeof window>"u"?ke.createElement(Qe,{size:"large"}):ke.createElement(Yo,{space:r,assetHostname:l}))))))))}s();var ye=T(R());function qp(t){let{collection:r,basePath:e,hostname:n,customToken:o,collectionSpaces:i,ssrRequestPath:a,ssrRouterContext:c,shareLink:l,assetHostname:u,preview:f=!1}=t,d=Ko({hostname:n,basePath:e,shareLink:l},void 0,r,i);if(!f&&r.publishingType!=="variants")throw new Error("we do not know how to render anything else than variants for now");return ye.createElement(Lr,{mode:"public-content",preview:f,locale:r.language},ye.createElement(Ot,{primaryColor:r.primaryColor},ye.createElement(nn,null,ye.createElement(Uo,{ssrRequestPath:a,ssrRouterContext:c},ye.createElement(En,{persist:!1,...d},ye.createElement(ye.Suspense,{fallback:ye.createElement(Qe,{size:"large"})},ye.createElement(zn,null,o&&typeof window>"u"?ye.createElement(Qe,{size:"large"}):ye.createElement(tb,{collection:r,collectionSpaces:i,assetHostname:u}))))))))}function tb(t){let{screen:r}=kn();if(r.type!=="space")throw new Error("screen should be a space");let[e]=Wc([vn(r.space)]);if(!e)throw new Error("the space should exist");return ye.createElement(Lr,{locale:e.language},ye.createElement(Ot,{primaryColor:e.primaryColor},ye.createElement(nn,null,ye.createElement(Yo,{...t,space:e}))))}s();var ot=T(R());K();s();var ln=T(R());var ts=De("preview:child");function Xp(t,r){let[e,n]=ln.useState(t),[o,i]=ln.useState(void 0);return ln.useEffect(()=>{!r||(window.addEventListener("message",a=>{if(a.data.source!=="gitbook-preview-parent"||(ts.info("receive message",a.origin,a.data),a.origin!=="http://localhost:5000"&&a.origin!=="http://localhost:5001"&&a.origin!==`https://${Ke.firebase.authDomain}`))return;let c=ys(a.data.payload),l=a.data.previewID;ts.debug("update content with",c),n(c),i(l),window.parent.postMessage({source:"gitbook-preview-child"},"*")}),ts.info("notify parent that we are ready"),window.parent.postMessage({source:"gitbook-preview-child"},"*"))},[r]),[e,o]}function rs(t){let r="collection"in t?t.collection:t.space,[e,n]=Xp(r,!!t.preview),o=Ss(e.themeMode);return ot.createElement(Ls,null,ot.createElement(Xt,{theme:{color:o}},ot.createElement(Us,{theme:{color:o}},ot.createElement(Ef,null,ot.createElement(Cl,null,ot.createElement(Ks,{enabled:!0},"collection"in t?ot.createElement(qp,{...t,collection:e}):ot.createElement(Gp,{...t,space:e})),n?ot.createElement(P,{testID:n}):null)))))}s();function $p(t){t!=null&&t.firestore&&gi.fromJS(t.firestore),t!=null&&t.head&&bc.cache.fromJS(t.head),t!=null&&t.images&&(Ic.fromJS(t.images.sizes),ec.fromJS(t.images.uri)),t!=null&&t.contentURLs&&_t.fromJS(t.contentURLs),t!=null&&t.contentRefs&&Zc.fromJS(t.contentRefs),t!=null&&t.screenToContentRefs&&Jc.fromJS(t.screenToContentRefs),t!=null&&t.swaggers&&Qc.fromJS(t.swaggers)}s();var Yp=De("browser-compatibility");function Kp(){let t=["webcache.googleusercontent.com","translate.googleusercontent.com","translate.google.com"];return!window.location.hostname||t.includes(window.location.hostname)?(Yp.warning("The application is served over an unsupported hostname and has been made static."),!1):rb()?!0:(Yp.warning("Your browser is missing required features, the application has been made static."),!1)}function rb(){try{if("\u212B".normalize("NFKD")!=="A\u030A")return!1}catch(t){return!1}return!(!window.Intl||![].flat)}s();function Zp(t){document.readyState==="interactive"||document.readyState==="complete"?t():document.addEventListener("DOMContentLoaded",()=>{t()})}Kp()&&Zp(()=>{nb()});async function nb(){let t=new URLSearchParams(window.location.search);if(t.has("jwt_token")){t.delete("jwt_token");let o=t.toString();window.history.replaceState({},"",`${window.location.pathname}${o?`?${o}`:""}`)}ps({dsn:Ke.sentry.dsn,release:as,projectId:Ke.firebase.projectId,tracesSampling:Ke.sentry.tracesSampling});let r=JSON.parse(window.__GITBOOK_INITIAL_PROPS__);window.location.hostname!=="localhost"&&xs(r.hostname),xi({customToken:r.customToken,waitUserReady:!1}),window.__GITBOOK_LAZY_MODULES__&&await Oc(window.__GITBOOK_LAZY_MODULES__);let e=window.__GITBOOK_INITIAL_STATE__,n=window.__GITBOOK_INITIAL_STATE_COMPRESSED__?Jp.default.decompress(e):e;n?($p(JSON.parse(n)),si.registerComponent("PublicContentApplication",()=>rs),si.runApplication("PublicContentApplication",{hydrate:!0,rootTag:document.querySelector(".gitbook-root"),initialProps:r})):console.error("Invalid state received from server, content won't be interactive")}
/** @license React v0.0.0-experimental-4ead6b530
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
//# sourceMappingURL=https://app.gitbook.com/public/app/public-F6PXA3CU.min.js.map
